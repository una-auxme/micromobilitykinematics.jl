var documenterSearchIndex = {"docs":
[{"location":"kinematic/#Calculation-of-the-kinematic-model","page":"Kinematic of the steering geometry","title":"Calculation of the kinematic model","text":"","category":"section"},{"location":"kinematic/","page":"Kinematic of the steering geometry","title":"Kinematic of the steering geometry","text":"Within the kinematic model, the joint positions are primarily calculated, taking into account variable steering angle settings, either to transfer them to the design environment or to utilize them for optimization purposes.","category":"page"},{"location":"kinematic/#Initial-Position-of-the-Steering-System","page":"Kinematic of the steering geometry","title":"Initial Position of the Steering System","text":"","category":"section"},{"location":"kinematic/","page":"Kinematic of the steering geometry","title":"Kinematic of the steering geometry","text":"The selection of a suitable reference coordinate system is crucial for defining the initial position of key points. Such a coordinate system should easily integrate predefined lengths, widths, and distances and facilitate the calculation of positioning during rotational movements. A suitable point for this purpose is the intersection point of the rotational axes of the steering geometry. Figure illustrates this coordinate system, with the corresponding axes shown in black. Overall, the figure provides a functional representation of the adjustment capability of the steering geometry, with significant information highlighted through color visualization. For determining the initial position of the key reference points, only those vectors represented by a continuous line should be considered.","category":"page"},{"location":"kinematic/","page":"Kinematic of the steering geometry","title":"Kinematic of the steering geometry","text":"(Image: Figure 3.2: The functional representation of the setting option rotational component)","category":"page"},{"location":"kinematic/","page":"Kinematic of the steering geometry","title":"Kinematic of the steering geometry","text":"The radius by which the rotational component can rotate around the x-axis lies in the rest position along the z-axis. rest position along the z-axis and is shown in Figure 3.2 as a red continuous vector. As there is no further angle of rotation in the rest position and there is a direct dependence of the position of the radii exists, the radius of rotation is represented by a vector (blue continuous vector) parallel to the x-axis. The coordinates of the vectors can be defined as follows:","category":"page"},{"location":"kinematic/","page":"Kinematic of the steering geometry","title":"Kinematic of the steering geometry","text":"mathbfr_1x = beginpmatrix 0  0  -XSteeringRadius endpmatrix tag31","category":"page"},{"location":"kinematic/","page":"Kinematic of the steering geometry","title":"Kinematic of the steering geometry","text":"mathbfr_1z = beginpmatrix -ZSteeringRadius  0  0 endpmatrix","category":"page"},{"location":"kinematic/","page":"Kinematic of the steering geometry","title":"Kinematic of the steering geometry","text":"Taking into account the rotation around the vector r^1_x, the positioning of both joint centers of rotation P_L and P_R (yellow continuous vector) can be determined. By vector addition of the rotation vectors r1x, r1z and taking into accountthe component width b and the joint dimensions d (green continuous vector ) results in the following relationship:","category":"page"},{"location":"kinematic/","page":"Kinematic of the steering geometry","title":"Kinematic of the steering geometry","text":"\np_1 = mathbfr_x + mathbfr_z + beginpmatrix 0  pm(d + (b2))  0 endpmatrix \n","category":"page"},{"location":"kinematic/#Positioning-with-influence-of-the-steering-angle","page":"Kinematic of the steering geometry","title":"Positioning with influence of the steering angle","text":"","category":"section"},{"location":"kinematic/","page":"Kinematic of the steering geometry","title":"Kinematic of the steering geometry","text":"Using the reference values of the initial position, the same characteristic points of the rotational component can now be calculated as a function of the steering angle. The first step involves performing an elementary rotation around the x-axis of the coordinate system, with a predefined angle Œ∏x. To map the coordinates of a point in a rotated coordinate system, the elementary rotation matrix is applied to the vector:","category":"page"},{"location":"kinematic/","page":"Kinematic of the steering geometry","title":"Kinematic of the steering geometry","text":"\nr^(2)_x = R_x(theta_x) cdot mathbfr_x tag32\n","category":"page"},{"location":"kinematic/","page":"Kinematic of the steering geometry","title":"Kinematic of the steering geometry","text":"The coordinates of the mapped vector represent a vector rotated by the angle Œ∏x in the original coordinate system. All other starting points of the steering system experience an additional rotational movement in which the component can rotate around the vector r^2_x. To describe this rotation, a further rotation matrix can be applied to the initial positions. This rotation is not described by an elementary rotation around one of the coordinate axes, but is based on the rotation around a position vector n positioned in space.","category":"page"},{"location":"kinematic/","page":"Kinematic of the steering geometry","title":"Kinematic of the steering geometry","text":"\nR_n(theta_x) =\nbeginbmatrix\nn_2^2 cdot (1 - cos theta_x) + cos(theta_x)  n_1 cdot n_2 cdot (1 - cos(theta_x)) - n_3 sin(theta_x)  n_1 cdot n_3 cdot (1 - cos theta_x) + n_2 sin theta_x \nn_2 cdot n_1 cdot (1 - cos theta_x) + n_3 sin theta_x  (n_2^2) cdot (1 - cos theta_x) + cos theta_x  n_2 cdot n_3 cdot (1 - cos theta_x) - n_1 sin theta_x \nn_3 cdot n_1 cdot (1 - cos theta_x) - n_2 sin theta_x  n_3 cdot n_2 cdot (1 - cos theta_x) + n_1 sin theta_x  (n_3^2) cdot (1 - cos theta_x) + cos theta_x\nendbmatrix tag33\n","category":"page"},{"location":"kinematic/","page":"Kinematic of the steering geometry","title":"Kinematic of the steering geometry","text":"For the positioning of both joint pivot center point vectors p^1:","category":"page"},{"location":"kinematic/","page":"Kinematic of the steering geometry","title":"Kinematic of the steering geometry","text":"r^(2)_x = R_x(theta_x) cdot r^(1)_x tag34","category":"page"},{"location":"kinematic/","page":"Kinematic of the steering geometry","title":"Kinematic of the steering geometry","text":"p_2 = R_r^(2)_x (theta_x) cdot p_1","category":"page"},{"location":"kinematic/#Determination-of-the-joint-center-of-rotation-of-the-track-lever","page":"Kinematic of the steering geometry","title":"Determination of the joint center of rotation of the track lever","text":"","category":"section"},{"location":"kinematic/","page":"Kinematic of the steering geometry","title":"Kinematic of the steering geometry","text":"To enable comprehensive modeling of the steering, the positions of the outer joint rotation centers are essential. They link the tie rod and the steering components, facilitating the complete integration of the steering kinematic chain. The initial position discussed previously is now expanded by the kinematic chain, as shown in the figure below. The yellow vector represents the tie rod, which pivots around a center on the blue axis of rotation of the wheel carrier. Due to the symmetric properties of the steering geometry at rest, a one-sided representation was chosen for clarity, as an identical procedure applies to the opposite side. In this illustration, the joints are represented by circles, with the red color indicating the sought component.","category":"page"},{"location":"kinematic/","page":"Kinematic of the steering geometry","title":"Kinematic of the steering geometry","text":"(Image: Figure 3.3: The functional representation of the adjustment options for the steering geometry)","category":"page"},{"location":"kinematic/#Definition-of-an-independent-coordinate-system","page":"Kinematic of the steering geometry","title":"Definition of an independent coordinate system","text":"","category":"section"},{"location":"kinematic/","page":"Kinematic of the steering geometry","title":"Kinematic of the steering geometry","text":"The joint positions depend on the dynamic movement of the wheel, which is connected through the track lever. The joints move in a circular path around the wheel's axis of rotation. When a steamer is compressed, the wheel suspension's position changes, resulting in an overall displacement of the lever and the required joint center of rotation.","category":"page"},{"location":"kinematic/","page":"Kinematic of the steering geometry","title":"Kinematic of the steering geometry","text":"(Image: Figure 3.4: Consideration of a damped wheel suspension)","category":"page"},{"location":"kinematic/","page":"Kinematic of the steering geometry","title":"Kinematic of the steering geometry","text":"Figure 3.4 illustrates these relationships, with the initial position in blue and displaced elements in green. The green cylinders represent the wishbone joints, allowing rotation around the dashed axes. Vectors \\mathbf{ and mathbfq^2‚Äã simplify the wishbone positions, ending in joints that form the wheel's axis of rotation (dashed line in Fig. above). Vectors mathbfl^1‚Äã and mathbfl^2‚Äã indicate the steering arms, with center of rotation marked as mathbfM‚Äã. The tie rod, shown as a pink dashed line, visualizes the displacement.","category":"page"},{"location":"kinematic/","page":"Kinematic of the steering geometry","title":"Kinematic of the steering geometry","text":"Given these considerations, selecting an independent coordinate system is crucial. This system must account for the kinematic chain of the steering geometry and allow for future modifications. A suitable coordinate system can be positioned at the rear lower wishbone bearing, where the dimensions are known, and the damper's dynamic movement can be integrated. In Figure 3.4, this coordinate system, Q-BKS, is represented with black basis vectors and aligned with the rotational component coordinate system, L-BKS, to facilitate the transfer of coordinates for essential points.","category":"page"},{"location":"kinematic/#Determining-the-centre-of-rotation-of-the-steering-lever","page":"Kinematic of the steering geometry","title":"Determining the centre of rotation of the steering lever","text":"","category":"section"},{"location":"kinematic/","page":"Kinematic of the steering geometry","title":"Kinematic of the steering geometry","text":"In order to ascertain the requisite joint position with due consideration of the effects of damped wheel suspension, it is necessary to exclude the influence of the latter. In an ideal scenario, a known point of wheel suspension would be selected, allowing for a straightforward calculation of the requisite position. Some of the points have already been determined through the calculation of the wheel suspension. These include the positions of the joints (depicted as circles in Fig. 3.4), which permit the wheels to rotate. The skilful choice of the Q-BKS allows for the straightforward tracking of these joints, rendering them an optimal reference point. Furthermore, it is established that the centre of rotation of the track lever is situated on the connecting line of both joints, providing a valuable reference for the z-coordinate axis of the reference coordinate system.","category":"page"},{"location":"kinematic/","page":"Kinematic of the steering geometry","title":"Kinematic of the steering geometry","text":"In order to calculate the requisite point, a reference coordinate system D-BKS is positioned in the lower wishbone joint (illustrated by circles in Fig. 3.4), with the direction of the z-axis unit vector coinciding with the axis of rotation of the wheel bracket. Figure 3.5 provides an overview of the orientation and positioning of the coordinate systems defined thus far. In combination with the previous Figure 3.4, it can be seen that the positions are readily comprehensible within the independent coordinate system Q-BKS.","category":"page"},{"location":"kinematic/","page":"Kinematic of the steering geometry","title":"Kinematic of the steering geometry","text":"The centre of rotation of the steering lever is situated at a specific distance, designated as mathbf^Do_M = d, along the z-axis of the D-BKS. It is possible to transform a vector represented in the D-BKS into the Q-BKS by applying the following rotation matrix:","category":"page"},{"location":"kinematic/","page":"Kinematic of the steering geometry","title":"Kinematic of the steering geometry","text":"mathbfQ_v = mathbfQ_mathbfRmathbfD cdot mathbfD_v tag35","category":"page"},{"location":"kinematic/","page":"Kinematic of the steering geometry","title":"Kinematic of the steering geometry","text":"=\nbeginbmatrix\ne_Dx cdot e_Qx  e_Dy cdot e_Qx  e_Dz cdot e_Qx \ne_Dx cdot e_Qy  e_Dy cdot e_Qy  e_Dz cdot e_Qy \ne_Dx cdot e_Qz  e_Dy cdot e_Qz  e_Dz cdot e_Qz \nendbmatrix\ncdot\nbeginbmatrix\nx_D \ny_D \nz_D \nendbmatrix tag36","category":"page"},{"location":"kinematic/","page":"Kinematic of the steering geometry","title":"Kinematic of the steering geometry","text":"The rotation matrix mathbf^QR_D is constituted by the scalar products of the base vectors of the reference coordinate systems, reflecting their relationship to each other. It is thus necessary to determine the basis vectors of the D-BKS. The connecting vector of the wishbone joint forms the z-axis and can be determined by a simple vector subtraction of the position vectors. The following therefore applies to the unit vector of the z-axis:","category":"page"},{"location":"kinematic/","page":"Kinematic of the steering geometry","title":"Kinematic of the steering geometry","text":"e_Dz = fracmathbf^Qo_G_1 - mathbf^Qo_G_2mathbf^Qo_G_1 - mathbf^Qo_G_2 tag37","category":"page"},{"location":"kinematic/","page":"Kinematic of the steering geometry","title":"Kinematic of the steering geometry","text":"The graphical correlation is shown in Figure 3.6.","category":"page"},{"location":"kinematic/","page":"Kinematic of the steering geometry","title":"Kinematic of the steering geometry","text":"(Image: Figure 3.6: Graphical derivation of a base vector of the coordinate system D-BKS)","category":"page"},{"location":"kinematic/","page":"Kinematic of the steering geometry","title":"Kinematic of the steering geometry","text":"The remaining two base vectors of the coordinate system can be determined through the following procedure. For illustrative purposes, please direct your attention to Figure 3.7, which depicts the individual steps in visual form. By employing the previously determined unit vector of the z-axis and the unit vector along the z-axis of the Q-BKS, an imaginary plane can be constructed (depicted in green in Figure 3.7) with the requisite perpendicularity to the axis being sought. To accomplish this, one must simply form the cross product of the two vectors in order to determine a vertical vector at the intersection of the two base vectors. This process is then repeated with the two previously calculated, known base vectors of the coordinate system.","category":"page"},{"location":"kinematic/","page":"Kinematic of the steering geometry","title":"Kinematic of the steering geometry","text":"e_Qy = e_Qx times e_Dz tag38","category":"page"},{"location":"kinematic/","page":"Kinematic of the steering geometry","title":"Kinematic of the steering geometry","text":"e_Qx = e_Qx times e_Qy  tag39","category":"page"},{"location":"kinematic/","page":"Kinematic of the steering geometry","title":"Kinematic of the steering geometry","text":"(Image: Figure 3.7: Method for determining the basis vectors)","category":"page"},{"location":"kinematic/","page":"Kinematic of the steering geometry","title":"Kinematic of the steering geometry","text":"Zur endg√ºltigen Bestimmung des Drehpunktes wird dessen Positionsvektor mathbf^Do_M unter Anwendung von Gleichung 3.5 in das Q-BKS eingespeist. Durch eine zus√§tzliche Vektoraddition mit dem Positionsvektor des Ursprungs der D-BKS mathbf^QR_D ist nun die Lage des Drehpunktes M_L innerhalb der Q-BKS bekannt.","category":"page"},{"location":"kinematic/","page":"Kinematic of the steering geometry","title":"Kinematic of the steering geometry","text":"mathbf^Qo_M = mathbf^QR_D cdot mathbf^Do_M + mathbf^Qo_G_1 tag310\n","category":"page"},{"location":"kinematic/#Calculation-of-the-joint-position","page":"Kinematic of the steering geometry","title":"Calculation of the joint position","text":"","category":"section"},{"location":"kinematic/","page":"Kinematic of the steering geometry","title":"Kinematic of the steering geometry","text":"The preceding steps are essential preliminary procedures that facilitate the calculation of the final, missing component. In conclusion, the L-component was initially modelled by calculating the most significant points within its reference coordinate system. Given the dynamic properties of the wheel suspension and the uncertainty surrounding the influence of subsequent dimensioning on the L-BKS, an independent coordinate system was defined. This Q-BKS enables the tracing of both the position of the L-BKS and the movement of the control arms. In order to calculate the missing joint in an efficient manner, the D-BKS was defined. This involved calculating the centre of rotation of the steering lever and then transforming it into the independent coordinate system. The objective is to combine the two systems, namely the L-BKS and the D-BKS, into a coherent kinematic system with the aim of determining the joint position.","category":"page"},{"location":"kinematic/","page":"Kinematic of the steering geometry","title":"Kinematic of the steering geometry","text":"A comprehensive examination of the kinematic system reveals the existence of two additional components whose influence has not yet been incorporated into the existing calculations. Firstly, the rotation of the track lever, whose centre point has been determined thus far, and secondly, the tie rod, which connects both systems and translates the movement of the L-component to the wheel. In the absence of a connection to the track lever, the tie rod is capable of moving freely around the centre of the joint on the L-component, thereby forming a sphere of potential alignments. If the circular path of the track lever intersects the sphere of the tie rod, this describes the exact position of the joint on the track lever. The maximum number of intersection points that can be determined is limited to two possible positions of the joint, one of which must be selected. Figure 3.8 illustrates the relationship in which the component dimensioning enables two intersection points.","category":"page"},{"location":"kinematic/#Selection-criterion-for-joint-positions","page":"Kinematic of the steering geometry","title":"Selection criterion for joint positions","text":"","category":"section"},{"location":"kinematic/","page":"Kinematic of the steering geometry","title":"Kinematic of the steering geometry","text":"In the preceding section, two potential positionings were identified; a criterion must therefore be formulated to select between them. To this end, the x coordinates of vectors mathbfl^1‚Äã and mathbfl^2‚Äãare compared, as illustrated in Figure 3.8. Within the Q reference coordinate system, it is verified whether the x-coordinate of vector mathbfl^2‚Äã is genuinely smaller than that of vector mathbfl^1‚Äã.","category":"page"},{"location":"kinematic/","page":"Kinematic of the steering geometry","title":"Kinematic of the steering geometry","text":"x_^Qo_L_2 - x_^Qo_M  x_^Qo_L_1 -x_^Qo_M tag311","category":"page"},{"location":"kinematic/","page":"Kinematic of the steering geometry","title":"Kinematic of the steering geometry","text":"x_l_2  x_l_1 tag312","category":"page"},{"location":"kinematic/","page":"Kinematic of the steering geometry","title":"Kinematic of the steering geometry","text":"(Image: Figure 3.8: Visualisation of the intersection points between the sphere and the circular path )","category":"page"},{"location":"examples/interactive_gui/#GUI-‚Äî-Interactive-Steering-and-Suspension-Explorer","page":"GUI","title":"üñ•Ô∏è GUI ‚Äî Interactive Steering & Suspension Explorer","text":"","category":"section"},{"location":"examples/interactive_gui/","page":"GUI","title":"GUI","text":"The micromobilitykinematics.jl package provides an optional GLMakie-based graphical interface that allows you to interactively explore and analyse the steering and suspension geometry.   This chapter explains what the GUI does, how to prepare the required data, and how to use it effectively.","category":"page"},{"location":"examples/interactive_gui/","page":"GUI","title":"GUI","text":"","category":"page"},{"location":"examples/interactive_gui/#1.-Purpose-of-the-GUI","page":"GUI","title":"üé® 1. Purpose of the GUI","text":"","category":"section"},{"location":"examples/interactive_gui/","page":"GUI","title":"GUI","text":"The GUI is designed as an interactive exploration and analysis tool.   It visualises the geometric and kinematic relationships between steering and suspension components.","category":"page"},{"location":"examples/interactive_gui/","page":"GUI","title":"GUI","text":"The GUI allows you to:","category":"page"},{"location":"examples/interactive_gui/","page":"GUI","title":"GUI","text":"view the full steering and suspension geometry in 3D,  \ninspect joint positions, axes, and UCS frames,  \nsweep through steering angles interactively,  \nanalyse live plots of kinematic behaviour,  \nvalidate optimisation results visually,  \ncompare neutral and current states of the components.","category":"page"},{"location":"examples/interactive_gui/","page":"GUI","title":"GUI","text":"Goal:   Provide an intuitive and immediate understanding of the kinematic system without manually creating plots or examining raw data.","category":"page"},{"location":"examples/interactive_gui/","page":"GUI","title":"GUI","text":"","category":"page"},{"location":"examples/interactive_gui/#2.-Requirements","page":"GUI","title":"‚öôÔ∏è 2. Requirements","text":"","category":"section"},{"location":"examples/interactive_gui/","page":"GUI","title":"GUI","text":"The GUI is optional and only needs to be loaded when you want to use it.","category":"page"},{"location":"examples/interactive_gui/","page":"GUI","title":"GUI","text":"Component Required? Purpose\nmicromobilitykinematics.jl ‚úîÔ∏è Kinematics & geometry\nGLMakie ‚úîÔ∏è (GUI only) Rendering & interaction\nGPU / OpenGL backend Recommended Smooth 3D performance","category":"page"},{"location":"examples/interactive_gui/#Installation","page":"GUI","title":"Installation","text":"","category":"section"},{"location":"examples/interactive_gui/","page":"GUI","title":"GUI","text":"pkg> add GLMakie","category":"page"},{"location":"examples/interactive_gui/","page":"GUI","title":"GUI","text":"Note The core functionality (kinematics, optimisation, XML export) works without GLMakie.   GUI components are fully isolated from the numerical kernel.","category":"page"},{"location":"examples/interactive_gui/#3.-Preparing-the-GUI","page":"GUI","title":"üõ†Ô∏è 3. Preparing the GUI","text":"","category":"section"},{"location":"examples/interactive_gui/","page":"GUI","title":"GUI","text":"he GUI relies on the current kinematic state of:","category":"page"},{"location":"examples/interactive_gui/","page":"GUI","title":"GUI","text":"Steering\nSuspension\nChassis","category":"page"},{"location":"examples/interactive_gui/","page":"GUI","title":"GUI","text":"Before launching the GUI, these must be computed and updated:","category":"page"},{"location":"examples/interactive_gui/","page":"GUI","title":"GUI","text":"    suspensionkinematics!(suspension)\n    update!(angleConfig, steering, suspension)","category":"page"},{"location":"examples/interactive_gui/","page":"GUI","title":"GUI","text":"Important If these functions are not called first, the GUI will display outdated or incomplete geometry.","category":"page"},{"location":"examples/interactive_gui/#4.-Launching-the-GUI","page":"GUI","title":"üöÄ 4. Launching the GUI","text":"","category":"section"},{"location":"examples/interactive_gui/","page":"GUI","title":"GUI","text":"    using micromobilitykinematics\n    using GLMakie\n\n    # Example configuration\n    steering    = Steering(56.0, 165.0, 185.0, 210.0)\n    suspension  = Suspension((30.0, 30.0))\n    chassis     = Chassis()\n\n    angleConfig = (0.0, 1.0, 0.0)\n\n    suspensionkinematics!(suspension)\n    update!(angleConfig, steering, suspension)\n\n    Œ∏_max = (15.0, 5.0, 35.0)\n\n    lounch_gui(Œ∏_max, chassis, steering, suspension)","category":"page"},{"location":"examples/interactive_gui/","page":"GUI","title":"GUI","text":"After starting, a new window opens containing interactive 3D visualisation, plots, and parameter summaries.","category":"page"},{"location":"library/#micromobilitykinematics.jl-Library-Functions","page":"Function Library","title":"micromobilitykinematics.jl Library Functions","text":"","category":"section"},{"location":"library/","page":"Function Library","title":"Function Library","text":"This section outlines the library's functions along with their doc strings, enabling users to understand and leverage the capabilities of each function effectively.","category":"page"},{"location":"library/#User-level","page":"Function Library","title":"User level","text":"","category":"section"},{"location":"library/","page":"Function Library","title":"Function Library","text":"The User Level functions offer an intuitive interface tailored for non-expert users. These functions simplify complex kinematic computations and visualizations, making the library accessible for practical applications in micromobility design, simulation, and optimization. By organizing functions into categories such as core calculations, plotting, and data export, this section helps users quickly locate the tools they need.","category":"page"},{"location":"library/#core-functions","page":"Function Library","title":"core functions","text":"","category":"section"},{"location":"library/","page":"Function Library","title":"Function Library","text":"The core functions in the micromobilitykinematics.jl library form the foundation for kinematic calculations and updates. They include functions for computing steering and suspension kinematics in both neutral and moved states. Additionally, the library provides angleŒ¥i and angleŒ¥o functions to calculate the steering angles of the inner and outer wheels, respectively. Together, these tools offer a robust framework for analyzing and simulating mechanical systems.","category":"page"},{"location":"library/","page":"Function Library","title":"Function Library","text":"random_search\nsteeringkinematics!\nsteeringkinematics\nsteeringkinematicsNEUTRAL!\nsteeringkinematicsMOVED!\nsuspensionkinematics!\nsuspensionkinematicsNEUTRAL!\nsuspensionkinematicsMOVED!\nupdate!\nangle_Œ¥i!\nangle_Œ¥i\nangle_Œ¥o!\nangle_Œ¥o","category":"page"},{"location":"library/#micromobilitykinematics.random_search","page":"Function Library","title":"micromobilitykinematics.random_search","text":"random_search(upper_border::Tuple{Float64, Float64, Float64, Float64},lower_border::Tuple{Float64, Float64, Float64, Float64},Œ∏_max; info = false, radius = 3500, step_size = 1 )\n\nrandom search with given border for the parameters and given angular area for rotary component \n\nArguments:\n\nupper_border::Tuple{Float64, Float64, Float64, Float64}: upper border Tuple (xrotationalradius, zrotationalradius, tracklever.length, tierod.length)  (guidline = (100.0, 140.0,150.0,270.0))\nlower_border::Tuple{Float64, Float64, Float64, Float64}: lower border Tuple (xrotationalradius, zrotationalradius, tracklever.length, tierod.length) (guidline = (50.0,100.0, 100.0, 100.0))\nŒ∏_max: maximal angular area for rotary component (defult: (0,0,35))       - Œ∏x: Angle of rotation of the rotation component around the x-axis       - Œ∏y: Angle of rotation of the rotation component around the y-axis       - Œ∏z: Angle of rotation of the rotation component around the z-axis\n\nKeywords:\n\ninfo::Bool: true if info should be printed\nradius: desired track circle radius (defult: 3500)\nstep_size: step_size in which the angular area should be checked\n\nReturns:\n\ncompLength: tuple (xrotationalradius, zrotationalradius, tracklever.length, tierod.length)\n\n\n\n\n\n","category":"function"},{"location":"library/#micromobilitykinematics.steeringkinematics!","page":"Function Library","title":"micromobilitykinematics.steeringkinematics!","text":"steeringkinematics!(Œ∏::Tuple{T,T}, steering::Steering, suspension::Suspension) where {T<:Real}\n\nTo fully describe the kinematics of the steering system, both MOVED and NEUTRAL states must be calculated\n\nArguments\n\nŒ∏::Tuple{T,T}: angles (Œ∏x,Œ∏z) in which the rotational component is rotated       - Œ∏x: Angle of rotation of the rotation component around the x-axis       - Œ∏z: Angle of rotation of the rotation component around the z-axis\nsteering::Steering: Instance of a specific steering\nsuspension::Suspension: Instance of a specific suspension\n\nReturns:\n\nno returns because of in place programming\n\n\n\n\n\n","category":"function"},{"location":"library/#micromobilitykinematics.steeringkinematics","page":"Function Library","title":"micromobilitykinematics.steeringkinematics","text":"steeringkinematics(Œ∏::Tuple{T,T}, steering::Steering, suspension::Suspension) where {T<:Real}\n\nTo fully describe the kinematics of the steering system, both MOVED and NEUTRAL states must be calculated\n\nArguments\n\nŒ∏::Tuple{T,T}: angles (Œ∏x,Œ∏z) in which the rotational component is rotated       - Œ∏x: Angle of rotation of the rotation component around the x-axis       - Œ∏z: Angle of rotation of the rotation component around the z-axis\nsteering::Steering: Instance of a specific steering\nsuspension::Suspension: Instance of a specific suspension\n\nReturns:\n\nsteering::Steering: Instance of a specific steering\n\n\n\n\n\n","category":"function"},{"location":"library/#micromobilitykinematics.steeringkinematicsNEUTRAL!","page":"Function Library","title":"micromobilitykinematics.steeringkinematicsNEUTRAL!","text":"steeringkinematicsNEUTRAL!(Œ∏::Tuple{T,T,T}, steering::Steering, suspension::Suspension) where {T<:Real}\n\nFor the rotation component in its rest position with the angles (Œ∏x, Œ∏z) = (0,0), the kinematics of the steering is calculated\n\nArguments\n\nŒ∏::Tuple{T,T,T}: angles (Œ∏x,Œ∏y,Œ∏z) in which the rotational component is rotated       - Œ∏x: Angle of rotation of the rotation component around the x-axis       - Œ∏y: Angle of rotation of the rotation component around the y-axis       - Œ∏z: Angle of rotation of the rotation component around the z-axis\nsteering::Steering: Instance of a specific steering\nsuspension::Suspension: Instance of a specific suspension\n\nReturns:\n\nno returns because of in place programming\n\n\n\n\n\n","category":"function"},{"location":"library/#micromobilitykinematics.steeringkinematicsMOVED!","page":"Function Library","title":"micromobilitykinematics.steeringkinematicsMOVED!","text":"steeringkinematicsMOVED!(Œ∏::Tuple{T,T,T}, steering::Steering, suspension::Suspension) where {T<:Real}\n\nFor the moving rotational component with the angles (Œ∏x, Œ∏z), the kinematics of the steering is calculated\n\nArguments\n\nŒ∏::Tuple{T,T,T}: angles (Œ∏x,Œ∏y,Œ∏z) in which the rotational component is rotated       - Œ∏x: Angle of rotation of the rotation component around the x-axis       - Œ∏y: Angle of rotation of the rotation component around the y-axis       - Œ∏z: Angle of rotation of the rotation component around the z-axis\nsteering::Steering: Instance of a specific steering\nsuspension::Suspension: Instance of a specific suspension\n\nReturns:\n\nno returns because of in place programming\n\n\n\n\n\n","category":"function"},{"location":"library/#micromobilitykinematics.suspensionkinematics!","page":"Function Library","title":"micromobilitykinematics.suspensionkinematics!","text":"suspensionkinematics!(suspension::Suspension)\n\nsuspensionkinematicsNEUTRAL!(suspension::Suspension)\n\ncalculates all the movement-dependent positions of the joints in NEUTRAL- and MOVED-Postion\n\nArguments:\n\nsuspension::Suspension: Suspension of the micromobility vehicle\n\n\n\n\n\n","category":"function"},{"location":"library/#micromobilitykinematics.suspensionkinematicsNEUTRAL!","page":"Function Library","title":"micromobilitykinematics.suspensionkinematicsNEUTRAL!","text":"suspensionkinematicsNEUTRAL!(suspension::Suspension)\n\ncalculates all the movement-dependent positions of the joints in NEUTRAL-Position\n\nArguemnts:\n\nsuspension::Suspension: Suspension of the micromobility vehicle\n\n\n\n\n\n","category":"function"},{"location":"library/#micromobilitykinematics.suspensionkinematicsMOVED!","page":"Function Library","title":"micromobilitykinematics.suspensionkinematicsMOVED!","text":"suspensionkinematicsMOVED!(suspension::Suspension)\n\ncalculates all the movement-dependent positions of the joints in MOVED-Position\n\nArguments:\n\nsuspension::Suspension: Suspension of the micromobility vehicle\n\n\n\n\n\n","category":"function"},{"location":"library/#micromobilitykinematics.update!","page":"Function Library","title":"micromobilitykinematics.update!","text":"update!(Œ∏::Tuple{T,T,T}, steering::Steering, suspension::Suspension) where {T<:Real}\n\nupdates the kinematics of the given steering instance on the new angles and suspension\n\nArguments\n\nŒ∏::Tuple{T,T,T}: angles (Œ∏x,Œ∏y,Œ∏z) in which the rotational component is rotated       - Œ∏x: Angle of rotation of the rotation component around the x-axis       - Œ∏y: Angle of rotation of the rotation component around the y-axis       - Œ∏z: Angle of rotation of the rotation component around the z-axis\nsteering::Steering: Instance of a specific steering\nsuspension::Suspension: Instance of a specific suspension\n\nReturns:\n\nno returns because of in place programming\n\n\n\n\n\n","category":"function"},{"location":"library/#micromobilitykinematics.angle_Œ¥i!","page":"Function Library","title":"micromobilitykinematics.angle_Œ¥i!","text":"angle_Œ¥i!(steering::Steering)\n\ncalculates the inner steering angle of the wheel !only possible after using function kinematics!\n\nArguments\n\nsteering::Steering: Instance of a specific steering\n\nReturns:\n\nno returns because of in place programming\n\n\n\n\n\n","category":"function"},{"location":"library/#micromobilitykinematics.angle_Œ¥i","page":"Function Library","title":"micromobilitykinematics.angle_Œ¥i","text":"angle_Œ¥i(steering::Steering)\n\ncalculates the inner steering angle of the wheel !only possible after using function kinematics!\n\nArguments\n\nsteering::Steering: Instance of a specific steering\n\nReturns\n\nŒ¥: inner steering angle  of the wheel \n\n\n\n\n\n","category":"function"},{"location":"library/#micromobilitykinematics.angle_Œ¥o!","page":"Function Library","title":"micromobilitykinematics.angle_Œ¥o!","text":"angle_Œ¥o!(steering::Steering)\n\ncalculates the outer steering angle of the wheel !only possible after using function kinematics!\n\nArguments\n\nsteering::Steering: Instance of a specific steering\n\nReturns:\n\nno returns because of in place programming\n\n\n\n\n\n","category":"function"},{"location":"library/#micromobilitykinematics.angle_Œ¥o","page":"Function Library","title":"micromobilitykinematics.angle_Œ¥o","text":"angle_Œ¥o(steering::Steering)\n\ncalculates the outer steering angle of the wheel !only possible after using function kinematics!\n\nArguments\n\nsteering::Steering: Instance of a specific steering\n\nReturns\n\nŒ¥: inner steering angle  of the wheel \n\n\n\n\n\n","category":"function"},{"location":"library/#Optimization","page":"Function Library","title":"Optimization","text":"","category":"section"},{"location":"library/","page":"Function Library","title":"Function Library","text":"The Optimization functions in the micromobilitykinematics.jl library are designed to help users optimize various parameters related to micromobility vehicle steering kinematics. These functions include tools for performing series optimizations (optimseries), grid-based optimization searches (gridoptim), and objective calculations (steering_objective, objective¬∞). Additionally, checkConstraints and checkConstraints¬∞ ensure that optimization results satisfy necessary system constraints.","category":"page"},{"location":"library/","page":"Function Library","title":"Function Library","text":"create_model_for_pose\nget_model_solution\noptim_at_pose\noptim_series_at_pose\ngrid_optim\ncreate_model_for_range\noptim_over_range\ncheckConstraints\ncheckConstraints¬∞\nackermann_deviation\nackermann_deviation_for_pose\nackermann_deviation_over_range","category":"page"},{"location":"library/#micromobilitykinematics.create_model_for_pose","page":"Function Library","title":"micromobilitykinematics.create_model_for_pose","text":"create_model_for_pose(Œ∏::Tuple{T,T,T}, steering::Steering) where {T<:Number}\n\nConstructs a nonlinear optimization model for minimizing the Ackermann steering deviation based on given spherical pose angles.\n\nArguments\n\nŒ∏::Tuple{T,T,T}: A tuple of target angles (Œ∏x, Œ∏y, Œ∏z) representing the desired steering pose. All values must be subtypes of Number.\nsteering::Steering: A Steering struct containing initial values for the optimization parameters:\nx_rotational_radius\nz_rotational_radius\ntrack_lever_length\ntie_rod_length\n\nReturns\n\nmodel::Model: A JuMP nonlinear model configured with variables, constraints (if used), objective function, and solver settings (Ipopt).\n\nNotes\n\nUses Ipopt as the optimization solver with custom tolerances.\nRegisters the function ackermann_deviation_for_pose for use in the nonlinear objective.\nFixed angles (Œ∏x, Œ∏y, Œ∏z) are treated as constants in the optimization.\nVariables are initialized using values extracted from the Steering object.\n\n\n\n\n\n","category":"function"},{"location":"library/#micromobilitykinematics.get_model_solution","page":"Function Library","title":"micromobilitykinematics.get_model_solution","text":"get_model_solution(model::Model)\n\nExtracts the optimized parameter values, objective value, and solver status from a JuMP model.\n\nArguments\n\nmodel::Model: A JuMP optimization model that has been solved.\n\nReturns\n\nsolution::Tuple{Float64, Float64, Float64, Float64}: The optimized values of:\nx_rotational_radius\nz_rotational_radius\ntrack_lever_length\ntie_rod_length\nobjective::Float64: The final value of the objective function.\nstatus::MOI.TerminationStatusCode: The solver's termination status, indicating whether the solution is optimal, infeasible, etc.\n\nNotes\n\nAssumes the model contains the variables in the expected order.\nThe function must be called after the model has been successfully solved.\n\n\n\n\n\n","category":"function"},{"location":"library/#micromobilitykinematics.optim_at_pose","page":"Function Library","title":"micromobilitykinematics.optim_at_pose","text":"optim_at_pose(Œ∏::Tuple{T,T,T}, \n              upper_border::Tuple{<:Number, <:Number, <:Number, <:Number}, \n              lower_border::Tuple{<:Number, <:Number, <:Number, <:Number}, \n              Œ∏_max::Tuple{<:Number, <:Number, <:Number}) where {T<:Number}\n\nPerforms a full optimization workflow for a given steering pose, including random search, model generation, solving, and result packaging.\n\nArguments\n\nŒ∏::Tuple{T,T,T}: Target steering pose defined by a tuple of angles (Œ∏x, Œ∏y, Œ∏z).\nupper_border::Tuple{<:Number, <:Number, <:Number, <:Number}: Upper bounds for the parameters:\nx_rotational_radius\nz_rotational_radius\ntrack_lever_length\ntie_rod_length\nlower_border::Tuple{<:Number, <:Number, <:Number, <:Number}: Lower bounds for the same parameters (in same order).\nŒ∏_max::Tuple{<:Number, <:Number, <:Number}: Maximum allowable steering angles in each direction (x, y, z).\n\nReturns\n\nopda::OptDa: An OptDa struct containing:\nthe selected input parameters,\nthe optimized Steering configuration,\nthe achieved objective value,\nand the solver termination status.\n\nNotes\n\nInternally performs a random search to generate starting parameters.\nCreates a Steering and Suspension configuration, and solves a nonlinear optimization problem using JuMP and Ipopt.\nThis function is multi-threading safe and logs the active thread ID.\n\n\n\n\n\n","category":"function"},{"location":"library/#micromobilitykinematics.optim_series_at_pose","page":"Function Library","title":"micromobilitykinematics.optim_series_at_pose","text":"optim_series_at_pose(num::Int, \n                     Œ∏::Tuple{T,T,T}, \n                     upper_border::Tuple{Float64, Float64, Float64, Float64}, \n                     lower_border::Tuple{Float64, Float64, Float64, Float64}, \n                     Œ∏_max::Tuple{<:Number, <:Number, <:Number}) where {T<:Number}\n\nRuns the optimization process num times in parallel for a given steering pose using multithreading. Each run independently attempts to find an optimal solution based on randomized initial parameters within the provided bounds.\n\nArguments\n\nnum::Int: Number of optimization runs to perform in parallel.\nŒ∏::Tuple{T,T,T}: Target steering angles (Œ∏x, Œ∏y, Œ∏z) for which optimization should be performed.\nupper_border::Tuple{Float64, Float64, Float64, Float64}: Upper bounds for the optimization parameters:\nx_rotational_radius\nz_rotational_radius\ntrack_lever_length\ntie_rod_length\nlower_border::Tuple{Float64, Float64, Float64, Float64}: Lower bounds for the same parameters (same order).\nŒ∏_max::Tuple{<:Number, <:Number, <:Number}: Maximum allowed steering angles in each axis (optional; often (0.0, 35.0, ...) as a guideline).\n\nReturns\n\nsol_dict::Dict{Int, OptDa}: A dictionary mapping each thread/task ID to its corresponding OptDa optimization result.\n\nNotes\n\nUses Threads.@threads for parallel execution.\nRetries each run until a valid result with acceptable solver status is found.\nStores results in a shared dictionary using thread-safe access.\nSide effect: Optionally saves intermediate or final solutions externally (commented out in code).\nExpected solver status: OPTIMAL, LOCALLY_SOLVED, NUMERICAL_ERROR, ITERATION_LIMIT, or ALMOST_LOCALLY_SOLVED.\n\n\n\n\n\n","category":"function"},{"location":"library/#micromobilitykinematics.grid_optim","page":"Function Library","title":"micromobilitykinematics.grid_optim","text":"grid_optim(upper_border::Tuple{T,T,T,T}, \n           lower_border::Tuple{T,T,T,T}, \n           Œ∏_max::Tuple{I,I,I}) where {T<:Number, I<:Number}\n\nPerforms a grid-based sweep over a range of steering angles and runs parallel optimization at each steering configuration. The results of each run are saved to disk.\n\nArguments\n\nupper_border::Tuple{T,T,T,T}: Upper bounds for the optimization parameters:\nx_rotational_radius\nz_rotational_radius\ntrack_lever_length\ntie_rod_length\nlower_border::Tuple{T,T,T,T}: Lower bounds for the same parameters (same order).\nŒ∏_max::Tuple{I,I,I}: Maximum values for the steering angles (Œ∏x, Œ∏y, Œ∏z) in degrees. The grid will be generated from 0 to Œ∏x_max and Œ∏z_max (in steps of 1.0¬∞), while Œ∏y remains fixed.\n\nBehavior\n\nConstructs a 2D grid of (Œ∏x, Œ∏z) angle pairs with a step size of 1.0¬∞.\nFor each steering angle (excluding (0, 0)), creates a directory for that row of the grid and runs optim_series twice (num=2) for the full Œ∏ = (Œ∏x, Œ∏y, Œ∏z).\nSaves each result in a .jld2 file to a structured directory based on the grid position.\nPaths are built relative to the current file location (@__DIR__), under a data/ subfolder.\n\nSide Effects\n\nCreates folders and writes .jld2 result files to disk using JLD2.@save.\n\nFile Naming Convention\n\nFolder: data/(Œ∏x,n) where Œ∏x is the x-angle of the row.\nFile: opt_series(Œ∏x,Œ∏y,Œ∏z).jld2 ‚Äî the result of each optimization series for a grid point.\n\n\n\n\n\n","category":"function"},{"location":"library/#micromobilitykinematics.create_model_for_range","page":"Function Library","title":"micromobilitykinematics.create_model_for_range","text":"create_model_for_range(Œ∏::Tuple{T,T,T}, steering::Steering) where {T<:Number}\n\nConstructs a nonlinear optimization model to minimize the Ackermann deviation over a range of steering angles. The model is built using the Ipopt solver and is initialized based on a given Steering configuration.\n\nArguments\n\nŒ∏::Tuple{T,T,T}: A tuple of maximum steering angles (Œ∏x_max, Œ∏y_max, Œ∏z_max) to define the evaluation range for the optimization.\nsteering::Steering: A Steering object that provides the starting values for the parameters:\nx_rotational_radius\nz_rotational_radius\ntrack_lever_length\ntie_rod_length\n\nReturns\n\nmodel::Model: A JuMP model prepared for nonlinear optimization, including:\nDecision variables with bounds,\nA nonlinear objective function based on ackermann_deviation_over_range,\nFixed steering angles derived from the input Œ∏,\nStarting values set from the provided Steering configuration.\n\nNotes\n\nThe objective function ackermann_deviation_over_range must be defined and differentiable (registered with autodiff=true).\nThe solver used is Ipopt with moderate tolerances and a maximum iteration limit of 70.\nConstraints are currently deactivated but can be re-enabled if needed.\nThis function is used when the goal is to evaluate Ackermann deviation over a full steering range, rather than a fixed pose.\n\n\n\n\n\n","category":"function"},{"location":"library/#micromobilitykinematics.optim_over_range","page":"Function Library","title":"micromobilitykinematics.optim_over_range","text":"optim_over_range(upper_border::Tuple{T,T,T,T}, \n                 lower_border::Tuple{T,T,T,T}, \n                 Œ∏_max::Tuple{I,I,I}) where {T<:Number, I<:Number}\n\nPerforms an optimization over a defined steering angle range, targeting minimal Ackermann deviation across that range. Random initial parameters are selected within bounds, and the result is returned as an OptDa object.\n\nArguments\n\nupper_border::Tuple{T,T,T,T}: Upper bounds for the optimization parameters:\nx_rotational_radius\nz_rotational_radius\ntrack_lever_length\ntie_rod_length\nlower_border::Tuple{T,T,T,T}: Lower bounds for the same parameters.\nŒ∏_max::Tuple{I,I,I}: Maximum steering angles (Œ∏x_max, Œ∏y_max, Œ∏z_max) that define the full evaluation range.\n\nReturns\n\noptda::OptDa: An OptDa struct containing:\nThe randomly selected parameter values,\nThe optimized Steering configuration,\nThe final objective value (Ackermann deviation),\nThe solver's termination status.\n\nNotes\n\nInternally uses random_search to generate a valid starting point.\nConstructs a Steering and Suspension setup and builds a model with create_model_for_range.\nOptimization is performed using Ipopt via JuMP.optimize!.\nOutput is postprocessed using update! before being packaged into OptDa.\n\n\n\n\n\noptim_over_range(x_rotational_radius, z_rotational_radius, track_lever_length, tie_rod_length, Œ∏_max::Tuple)\n\nPerforms an optimization over a defined steering angle range using manually specified suspension parameters. The goal is to minimize the Ackermann deviation across the full range of steering angles.\n\nArguments\n\nx_rotational_radius::Number: Initial guess for the x-axis rotational radius.\nz_rotational_radius::Number: Initial guess for the z-axis rotational radius.\ntrack_lever_length::Number: Initial length of the track lever.\ntie_rod_length::Number: Initial length of the tie rod.\nŒ∏_max::Tuple: Maximum steering angles (Œ∏x_max, Œ∏y_max, Œ∏z_max) to define the evaluation range.\n\nReturns\n\noptda::OptDa: A struct containing:\nThe initial input parameters as provided,\nThe optimized Steering configuration,\nThe final value of the optimization objective (Ackermann deviation),\nThe solver‚Äôs termination status.\n\nNotes\n\nUnlike the version with random_search, this function uses fixed parameter values.\nInternally creates a Steering and Suspension system, then solves a nonlinear optimization problem with Ipopt.\nupdate! is used post-optimization to apply the solution to the suspension model.\nUseful for validating specific configurations across a range of steering angles.\n\n\n\n\n\n","category":"function"},{"location":"library/#micromobilitykinematics.checkConstraints","page":"Function Library","title":"micromobilitykinematics.checkConstraints","text":"checkConstraints(stepsize, Œ∏max::Tuple, steering::Steering, suspension::Suspension)\n\nchecks  all constraints and dependencies\n\nArguments\n\nstep_size: step_size in which the angular area should be checked\nmaxŒ∏::Tuple{T,T,T}: angles (Œ∏x,Œ∏z) in which the rotational component is rotated       -Œ∏x: maximal Angle of rotation of the rotation component around the x-axis       -Œ∏y: Angle of rotation of the rotation component around the y-axis       -Œ∏z: maximal Angle of rotation of the rotation component around the z-axis\nsteering::Steering: Instance of a specific steering\nsuspension::Suspension: Instance of a specific suspension\n\nReturns:\n\n::Bool:       - false: It is not possible to match the constraints in a satisfactory manner       - true: It is possible to match the constraints in a satisfactory manner\n\n\n\n\n\n","category":"function"},{"location":"library/#micromobilitykinematics.checkConstraints¬∞","page":"Function Library","title":"micromobilitykinematics.checkConstraints¬∞","text":"checkConstraints¬∞(x_rotational_radius, z_rotational_radius, track_lever_length, tie_rod_length)\n\nThe wrapper function of the checkConstraints procedure is employed for the purposes of optimisation. ! function¬∞(): symbolises that this function should only be used within the optimisation !\n\nArguments\n\nx_rotational_radius: Length of the rotational component around the x-axis. (detailed info in doc)\nz_rotational_radius: Length of the rotational component around the z-axis. (detailed info in doc)\ntrack_lever_length: Length of the track lever. (detailed info in doc)\ntie_rod_length: Length of tie rod. (detailed info in doc)\n\nReturns\n\nbinary:       - 0: It is not possible to match the constraints in a satisfactory manner.       - 1: It is possible to match the constraints in a satisfactory manner.\n\n\n\n\n\n","category":"function"},{"location":"library/#micromobilitykinematics.ackermann_deviation","page":"Function Library","title":"micromobilitykinematics.ackermann_deviation","text":"ackermann_deviation(Œ∏::Tuple{T,T,T}, chassis::Chassis, steering::Steering, suspension::Suspension) where {T<:Any}\n\nCalculates the distance between the optimum point of intersection of the wheel axis (normally on the rear wheel axis) and the current point of intersection of the axis.\n\nArguments\n\nŒ∏::Tuple{T,T,T}: angles (Œ∏x,Œ∏y,Œ∏z) in which the rotational component is rotated       - Œ∏x: Angle of rotation of the rotation component around the x-axis       - Œ∏y: Angle of rotation of the rotation component around the y-axis       - Œ∏z: Angle of rotation of the rotation component around the z-axis\nmeasurements::Measurements: Instance of a specific all relevant Measurements of the vehicle\nsteering::Steering: Instance of a specific steering\nsuspension::Suspension: Instance of a specific suspension\n\nReturns\n\nDistance between optimal and current intersection point\n\n\n\n\n\n","category":"function"},{"location":"library/#micromobilitykinematics.ackermann_deviation_for_pose","page":"Function Library","title":"micromobilitykinematics.ackermann_deviation_for_pose","text":"ackermann_deviation_at_pose(Œ∏x, Œ∏y, Œ∏z, x_rotational_radius, z_rotational_radius, track_lever_length, tie_rod_length)\n\nCalculates the Ackerman deviation for a given steering angle position.\n\nArguments\n\nŒ∏x: Angle of rotation of the rotation component around the x-axis\nŒ∏y: Angle of rotation of the rotation component around the y-axis\nŒ∏z: Angle of rotation of the rotation component around the z-axis\nx_rotational_radius: length of the rotation component around the x-axis\nz_rotational_radius: length of the rotation component around the z-axis\ntrack_lever_length: length of the track lever\ntie_rod_length: length of the tie rod\n\nReturns\n\nDistance between optimal and current intersection point (known as ackermann deviation)\n\n\n\n\n\n","category":"function"},{"location":"library/#micromobilitykinematics.ackermann_deviation_over_range","page":"Function Library","title":"micromobilitykinematics.ackermann_deviation_over_range","text":"ackermann_deviation_over_range(Œ∏x_max, Œ∏y_max, Œ∏z_max, x_rotational_radius, z_rotational_radius, track_lever_length, tie_rod_length)\n\nCalculates the Ackerman deviation for a given steering angle position.\n!!! Œ∏y_max describes the desired rotation around the y-axis. The optimization is performed using the search space Œ∏x_max, Œ∏z_max with a constant Œ∏y_max.!!!\n\nArguments\n\nŒ∏x_max: The maximal angle of rotation of the rotation component around the x-axis\nŒ∏y_max: !!! Angle of rotation of the rotation component around the y-axis !!!\nŒ∏z_max: The maximal angle of rotation of the rotation component around the z-axis\nx_rotational_radius: length of the rotation component around the x-axis\nz_rotational_radius: length of the rotation component around the z-axis\ntrack_lever_length: length of the track lever\ntie_rod_length: length of the tie rod\n\nReturns\n\nDistance between optimal and current intersection point (known as ackermann deviation)\n\n\n\n\n\n","category":"function"},{"location":"library/#GUI","page":"Function Library","title":"GUI","text":"","category":"section"},{"location":"library/","page":"Function Library","title":"Function Library","text":"This package provides an extension that depends on GLMakie. Because of this dependency, the interactive GUI will only work if GLMakie is installed beforehand. Once GLMakie is available in the environment, the graphical user interface can be activated through the following function:","category":"page"},{"location":"library/","page":"Function Library","title":"Function Library","text":"lounch_gui","category":"page"},{"location":"library/#micromobilitykinematics.lounch_gui","page":"Function Library","title":"micromobilitykinematics.lounch_gui","text":"lounch_gui(args...)\n\nGUI entry point provided by the GUI extension (micromobilitykinematicsGUIExt).\n\n\n\n\n\n","category":"function"},{"location":"library/#Export","page":"Function Library","title":"Export","text":"","category":"section"},{"location":"library/","page":"Function Library","title":"Function Library","text":"The export function exportXML enables users to efficiently save and share their configurations in an XML format. This functionality is particularly useful for integrating results into other software workflows or for long-term archiving, ensuring compatibility and traceability across platforms and projects.","category":"page"},{"location":"library/","page":"Function Library","title":"Function Library","text":"exportXML","category":"page"},{"location":"library/#micromobilitykinematics.exportXML","page":"Function Library","title":"micromobilitykinematics.exportXML","text":"exportXML(inst::Union{Steering, Suspension}; file_name=\"SteeringParamList\", path=@__DIR__ )\n\nAll important steering/suspension kinematics parameters are transferred to an XML file.\n\nArguemnts\n\n-inst::Union{Steering, Suspension}: Instance of a steering/suspension/... where the kinematic! function has already been used.\n\nKeywords\n\n-path=@__DIR__: Path to the folder where the xml file will be saved.\n\n\n\n\n\n","category":"function"},{"location":"optimisation_problem/#Optimisation-Problem","page":"Optimisation problem of the steering geometry ","title":"Optimisation Problem","text":"","category":"section"},{"location":"optimisation_problem/","page":"Optimisation problem of the steering geometry ","title":"Optimisation problem of the steering geometry ","text":"Prior to the optimisation of the components, the formulation of the optimisation problem is a crucial preliminary step. Following the mathematical definition of the optimisation problem, the objective function with associated restrictions is then sought. In essence, the optimisation problem should be formulated in the following manner:","category":"page"},{"location":"optimisation_problem/","page":"Optimisation problem of the steering geometry ","title":"Optimisation problem of the steering geometry ","text":"beginarrayccc\n    hline\n    textbf(MP)  textbfmin   f(x) \n    hline\n      textbfunter g_i(x) leq 0 \n                     textf√ºr  i = 1 ldots p \n    hline\n                     h_j(x) = 0 \n                     textf√ºr  j = 1 ldots m \n    hline\n                     x in X subseteq mathbbR^n \n    hline\nendarray","category":"page"},{"location":"optimisation_problem/","page":"Optimisation problem of the steering geometry ","title":"Optimisation problem of the steering geometry ","text":"The following section will examine the potential objective functions, f(x), and conditions that are ultimately employed in the formulation of an optimisation problem.","category":"page"},{"location":"optimisation_problem/#Derivation-of-the-target-function","page":"Optimisation problem of the steering geometry ","title":"Derivation of the target function","text":"","category":"section"},{"location":"optimisation_problem/","page":"Optimisation problem of the steering geometry ","title":"Optimisation problem of the steering geometry ","text":"The optimisation employs the ratio between the distance L of the intersection point C and the wheelbase w of the vehicle. It is assumed that the inner steering angle is identical for both the steering system in use and the Ackermann steering system.","category":"page"},{"location":"optimisation_problem/","page":"Optimisation problem of the steering geometry ","title":"Optimisation problem of the steering geometry ","text":"The comparison of a real steering system with the Ackermann steering system depicted in Figure 3.9 yields three distinct scenarios. The optimal configuration is defined by the Ackermann operation, in which both wheel axles of the front wheels intersect on the rear wheel axle. The remaining two scenarios are distinguished by the presence of intersection points C, situated at a distance y from the rear wheel axle. It can be seen that the distance L can be both larger and smaller than the ideal value w. Therefore, the ratio is not a meaningful objective function for optimisation. It is not possible to approximate both sides to the value 1 for a minimisation or maximisation problem. To avoid this issue, the absolute difference of the distances w and L is chosen as the objective function.","category":"page"},{"location":"optimisation_problem/","page":"Optimisation problem of the steering geometry ","title":"Optimisation problem of the steering geometry ","text":"The following sections present the derivation and calculation of the distance L, with reference to Figure 3.9.","category":"page"},{"location":"optimisation_problem/","page":"Optimisation problem of the steering geometry ","title":"Optimisation problem of the steering geometry ","text":"(Image: Figure 3.9: Graphical representation of the derivation using the Ackermann condition)","category":"page"},{"location":"optimisation_problem/#Calculation-of-the-steering-angle","page":"Optimisation problem of the steering geometry ","title":"Calculation of the steering angle","text":"","category":"section"},{"location":"optimisation_problem/","page":"Optimisation problem of the steering geometry ","title":"Optimisation problem of the steering geometry ","text":"The calculation of the intersection points C of the wheel axles is essential for the continuous derivation, as these points depend on the steering angles of the inner Œ¥i and outer Œ¥o wheels. It is already established that the kinematic chain is influenced by the effect of the L-component, whereby characteristic points of the steering geometry are shifted. The steering lever mounted on the wheel is either pulled or pushed by the tie rod, depending on the steering setting, which in turn leads to a change in the wheel suspension. The kinematic model of the steering system already describes the positions of the components with individual steering adjustment options.","category":"page"},{"location":"optimisation_problem/","page":"Optimisation problem of the steering geometry ","title":"Optimisation problem of the steering geometry ","text":"(Image: Figure 3.10: Graphical determination of the steering angle Œ¥)","category":"page"},{"location":"optimisation_problem/","page":"Optimisation problem of the steering geometry ","title":"Optimisation problem of the steering geometry ","text":"In Figure 3.10, the angles designated as delta represent the angular displacement of the wheel in relation to the initial position of the steering geometry. Given the direct linkage between the steering lever l and the wheel mount M, the transition from position L1 to L2 can also be interpreted as an angular change between the steering levers l_1 and l_2. Consequently, the included angle of the steering lever vectors l_1 and l_2 is to be determined.","category":"page"},{"location":"optimisation_problem/","page":"Optimisation problem of the steering geometry ","title":"Optimisation problem of the steering geometry ","text":"delta = arccosleft(fracmathbfl_1 cdot mathbfl_2mathbfl_1 cdot mathbfl_2right) tag313","category":"page"},{"location":"optimisation_problem/","page":"Optimisation problem of the steering geometry ","title":"Optimisation problem of the steering geometry ","text":"In accordance with the established criteria, the positions of the joints L_1 and L_2, as well as the position of the centre of rotation M, are known solely within the previously defined reference coordinate systems. Consequently, the vectors l_1 and l_2 must initially be determined.","category":"page"},{"location":"optimisation_problem/","page":"Optimisation problem of the steering geometry ","title":"Optimisation problem of the steering geometry ","text":"mathbfl_1 = mathbfo_M - mathbfo_L_1","category":"page"},{"location":"optimisation_problem/","page":"Optimisation problem of the steering geometry ","title":"Optimisation problem of the steering geometry ","text":"mathbfl_2 = mathbfo_M - mathbfo_L_2","category":"page"},{"location":"optimisation_problem/#Positioning-the-reference-coordinate-system","page":"Optimisation problem of the steering geometry ","title":"Positioning the reference coordinate system","text":"","category":"section"},{"location":"optimisation_problem/","page":"Optimisation problem of the steering geometry ","title":"Optimisation problem of the steering geometry ","text":"The positioning of the reference coordinate system exerts a more pronounced influence on the determination of the values in the derivation. The dependence of the target function on the Ackermann operation plays a pivotal role in the decision-making process. Consequently, the comparison of distances and angles is of paramount importance, which is why the intersection point Ca of an ideal steering system was selected as the centre of the reference coordinate system. This can be observed graphically in Figure 3.9.","category":"page"},{"location":"optimisation_problem/#Transferring-the-axes-to-the-reference-coordinate-system","page":"Optimisation problem of the steering geometry ","title":"Transferring the axes to the reference coordinate system","text":"","category":"section"},{"location":"optimisation_problem/","page":"Optimisation problem of the steering geometry ","title":"Optimisation problem of the steering geometry ","text":"The axes of the wheels can be described in a coordinate system as a linear function of the following form:","category":"page"},{"location":"optimisation_problem/","page":"Optimisation problem of the steering geometry ","title":"Optimisation problem of the steering geometry ","text":"i(x) = m_i x + b_i quad  o(x) = m_o x + b_o ","category":"page"},{"location":"optimisation_problem/","page":"Optimisation problem of the steering geometry ","title":"Optimisation problem of the steering geometry ","text":"In this equation, the variable \"i\" is used to denote the inner wheel, while \"o\" is used to denote the outer wheel. The gradient m of the functions is derived from the right-angled triangle formed by the x-axis and the wheelbase w. Given the parallelism of the equations y = w and y-axis, there is an alternating angle at the intersection of the x-axis, which is composed of 90¬∞ + Œ¥. It can therefore be concluded that the turning angle Œ¥o or Œ¥i is situated within the triangle of inclination. In Figure 3.9, the alternating angle is highlighted in green and orange. The following applies to the slope of the functions:","category":"page"},{"location":"optimisation_problem/","page":"Optimisation problem of the steering geometry ","title":"Optimisation problem of the steering geometry ","text":"m_i = fracDelta y_iDelta x_i = -fracwfracwtan delta_i = -frac1tan delta_i quad\nm_o = fracDelta y_oDelta x_o = -fracwfracwtan delta_o = -frac1tan delta_o tag314","category":"page"},{"location":"optimisation_problem/","page":"Optimisation problem of the steering geometry ","title":"Optimisation problem of the steering geometry ","text":"In order to transform the axes into linear functions within the reference coordinate system, it is necessary to ascertain the respective displacements along the y-axis. It should be noted that the intersection point of function i(x) is at the origin, which eliminates the requirement for a shift in this instance. By utilising the known values of the gradient triangle, it is possible to determine the distance of the intersection points of the functions with the x-axis, which subsequently represents the x-coordinate of the position.","category":"page"},{"location":"optimisation_problem/","page":"Optimisation problem of the steering geometry ","title":"Optimisation problem of the steering geometry ","text":"x = Delta x_o - (Delta x_i + T) tag315","category":"page"},{"location":"optimisation_problem/","page":"Optimisation problem of the steering geometry ","title":"Optimisation problem of the steering geometry ","text":"Given that the y-value must be zero for an intersection of the x-axis and the positions are known, the constant can be determined as follows:","category":"page"},{"location":"optimisation_problem/#Calculation-of-the-intersection-point","page":"Optimisation problem of the steering geometry ","title":"Calculation of the intersection point","text":"","category":"section"},{"location":"optimisation_problem/","page":"Optimisation problem of the steering geometry ","title":"Optimisation problem of the steering geometry ","text":"The representation of the wheel rotation axes by linear functions facilitates the search for the intersection point C. The determination procedure is based on the equality of the coordinates at this point, which allows for the establishment of the following equation.","category":"page"},{"location":"optimisation_problem/","page":"Optimisation problem of the steering geometry ","title":"Optimisation problem of the steering geometry ","text":"beginalign*\ni(x) = o(x) \nm_i x = m_o x + b_o \nx (m_i - m_o) = b_o \nx = fracb_om_i - m_o \nendalign* tag317","category":"page"},{"location":"optimisation_problem/","page":"Optimisation problem of the steering geometry ","title":"Optimisation problem of the steering geometry ","text":"The y-value is calculated by inserting the x-coordinate into one of the two linear functions, which are defined by the following equations:","category":"page"},{"location":"optimisation_problem/","page":"Optimisation problem of the steering geometry ","title":"Optimisation problem of the steering geometry ","text":"beginalign*\ny = m_o x + b_o tag318 \n  = -frac1tan delta_o cdot fracb_om_i - m_o + left(frac1tan delta_o left( Delta x_o - (Delta x_i + Tright) right)\nendalign*","category":"page"},{"location":"optimisation_problem/#Calculation-of-the-distance-L","page":"Optimisation problem of the steering geometry ","title":"Calculation of the distance L","text":"","category":"section"},{"location":"optimisation_problem/","page":"Optimisation problem of the steering geometry ","title":"Optimisation problem of the steering geometry ","text":"The distance between the front axle and the point of intersection of the wheel axle is represented by the variable L. This variable is constituted by the ideal distance w and the y-coordinate of the aforementioned point of intersection.","category":"page"},{"location":"optimisation_problem/","page":"Optimisation problem of the steering geometry ","title":"Optimisation problem of the steering geometry ","text":"L = w + y tag319","category":"page"},{"location":"optimisation_problem/","page":"Optimisation problem of the steering geometry ","title":"Optimisation problem of the steering geometry ","text":"This function describes the absolute difference between the intersection points, with the ratio of which is ideally 1 or 100.","category":"page"},{"location":"optimisation_problem/#Conditions-of-the-optimisation-problem","page":"Optimisation problem of the steering geometry ","title":"Conditions of the optimisation problem","text":"","category":"section"},{"location":"optimisation_problem/","page":"Optimisation problem of the steering geometry ","title":"Optimisation problem of the steering geometry ","text":"In order to identify the constraints of the optimisation problem, it is necessary to study critical scenarios and formulate constraints based on their mathematical relationship. Given the increasing complexity resulting from the addition of a further operational area with the use of both steering angles Œ∏x and Œ∏z, it is more intuitive to adopt a purely planar view of the steering geometry for the time being. Subsequently, the developed solution approaches are transferred to a three-dimensional problem.","category":"page"},{"location":"optimisation_problem/#Limits-of-the-optimisation-parameters-and-constants","page":"Optimisation problem of the steering geometry ","title":"Limits of the optimisation parameters and constants","text":"","category":"section"},{"location":"optimisation_problem/","page":"Optimisation problem of the steering geometry ","title":"Optimisation problem of the steering geometry ","text":"A cursory examination may lead to the erroneous conclusion that the angle range considered is too narrow. This is related to the prioritisation of the optimisation to ensure stable driving behaviour at higher speeds. Consequently, it is necessary to optimise the steering geometry for the angular range that occurs more frequently at higher speeds. Two constants of the optimisation are directly related to the angular range and together form the limits of the optimisation. The angle tuple (Œ∏x, Œ∏z) describes the angle setting of the L-component and are elements of the following angle set:","category":"page"},{"location":"optimisation_problem/","page":"Optimisation problem of the steering geometry ","title":"Optimisation problem of the steering geometry ","text":" (theta_x theta_z) mid (theta_x theta_z) in mathbbZ times mathbbZ  -10 leq theta_x leq 10  -35 leq theta_z leq 35 ","category":"page"},{"location":"optimisation_problem/","page":"Optimisation problem of the steering geometry ","title":"Optimisation problem of the steering geometry ","text":"The symmetrical configuration of the steering geometry components allows for the optimisation to be conducted with respect to a single steering direction. Consequently, an angular range can be defined for the optimisation.","category":"page"},{"location":"optimisation_problem/","page":"Optimisation problem of the steering geometry ","title":"Optimisation problem of the steering geometry ","text":" (theta_x theta_z) mid (theta_x theta_z) in mathbbZ times mathbbZ  0 leq theta_x leq 10  0 leq theta_z leq 35  tag321","category":"page"},{"location":"optimisation_problem/","page":"Optimisation problem of the steering geometry ","title":"Optimisation problem of the steering geometry ","text":"Another variable is the potential track circle radius (Rs) of a vehicle, which must be maintained throughout a steering movement. Vehicles with comparable dimensions have a track circle radius of between 2000 mm and 3000 mm, which has also been adopted. ","category":"page"},{"location":"optimisation_problem/","page":"Optimisation problem of the steering geometry ","title":"Optimisation problem of the steering geometry ","text":"In order to prevent potential oversizing of the components, restrictions are imposed on the optimisation parameters. A length range of 10mm to 260mm is specified for the tie rod in order to ensure that the tie rod does not exceed the track length of the vehicle. A tie rod that exceeds the track of the vehicle has the potential to come into contact with the wheel to be steered. Another parameter is the length of the steering lever, which may range from 40 mm to 200 mm. This should prevent undersizing and ensure the existence of a steering lever. It should be noted that the maximum permissible value serves merely as a rough guideline that should not be exceeded. The two rotation radii of the L-component contribute significantly to the steering behaviour, which is why their lengths are also taken into account in optimisation. The limits are chosen to be similar to the steering lever and are between 50mm and 200mm. It is possible that this has already been amended.","category":"page"},{"location":"optimisation_problem/#Track-circle-condition","page":"Optimisation problem of the steering geometry ","title":"Track circle condition","text":"","category":"section"},{"location":"optimisation_problem/","page":"Optimisation problem of the steering geometry ","title":"Optimisation problem of the steering geometry ","text":"The term \"track circle\" is used to describe the circular path of the wheel that is furthest from the centre of rotation in a drive train. In the absence of a defined desired turning circle for the vehicle, the resulting steering geometry will only encompass a portion of the specified range of the turning angle spectrum. The relationship between the steering angle and the toe circle can be derived using the definition of Ackermann steering geometry. If Figure 3.9 depicts the maximum deflection of the front wheel, then the centre of rotation (C_a) of an ideal Ackermann steering system is directly correlated with the smallest possible track circle. In an ideal scenario, the wheel axle intersects the rear wheel axle at the centre of rotation of the vehicle, with their connection corresponding to the track circle radius (r_s). Consequently, the following condition can be formulated:","category":"page"},{"location":"optimisation_problem/","page":"Optimisation problem of the steering geometry ","title":"Optimisation problem of the steering geometry ","text":"delta_o geq sin^-1 left( fracwr_s right) tag322","category":"page"},{"location":"optimisation_problem/","page":"Optimisation problem of the steering geometry ","title":"Optimisation problem of the steering geometry ","text":"It is essential that the maximum steering angle of the dimensioned steering geometry is greater than that of the ideal Ackermann steering geometry, which has been adapted to align with the dimensions of the micromobility vehicle.","category":"page"},{"location":"optimisation_problem/#Conditional-part-of-the-Ackerman-condition","page":"Optimisation problem of the steering geometry ","title":"Conditional part of the Ackerman condition","text":"","category":"section"},{"location":"optimisation_problem/","page":"Optimisation problem of the steering geometry ","title":"Optimisation problem of the steering geometry ","text":"The relationship between the inner Œ¥i and outer Œ¥o angles of incidence of the deflected wheel has already been expressed mathematically by the Ackermann equation (Equation 2.1), whose visual relationship is shown in Figure 2.1. It can be observed from the figure that the inner angle of incidence should be greater than the outer angle of incidence of the wheel at all times. This implies that the following condition must be met for the optimisation to be achieved:","category":"page"},{"location":"optimisation_problem/","page":"Optimisation problem of the steering geometry ","title":"Optimisation problem of the steering geometry ","text":"delta_o leq delta_i tag323","category":"page"},{"location":"optimisation_problem/","page":"Optimisation problem of the steering geometry ","title":"Optimisation problem of the steering geometry ","text":"It is necessary that the current steering angle (delta_i) of the inner wheel be greater than the steering angle $ (\\delta_o)$ of the outer wheel, with the same steering geometry dimensions.","category":"page"},{"location":"optimisation_problem/#Interaction-reliability-of-the-components","page":"Optimisation problem of the steering geometry ","title":"Interaction reliability of the components","text":"","category":"section"},{"location":"optimisation_problem/","page":"Optimisation problem of the steering geometry ","title":"Optimisation problem of the steering geometry ","text":"Should the dimensions of the tie rod and steering lever prove insufficient, the kinematic chain may be subject to interruption. It is not feasible to ascertain an intersection point between the circular trajectory of the steering lever and the movement domain of the tie rod in this particular instance. It is recommended that Figure 3.8, which illustrates the graphical determination, be consulted once more in order to gain further insight into this connection. If either the radius of the drawbar sphere coloured in purple or the circular path of the steering lever are too short, an interaction of both movements is precluded. The same applies if the drawbar or the steering lever are oversized so that the circular path of the steering lever is enclosed by the drawbar sphere, or if the opposite situation arises. For an intuitive formulation of a restriction of this scenario, the problem is transferred to a two-dimensional system. Figures 3.11, 3.12 and 3.13 illustrate the plane on which the circular path of the steering lever is located, with the section containing the tie rod sphere depicted in purple. Figure 3.11 illustrates the scenarios that must be avoided in order to optimise the tie rod, with the known positions labelled. To ensure interaction, the shortest distance d between the centre of rotation M and the joint P must be smaller than the sum of the radii of both circles. Similarly, the radius of the sphere must not exceed the sum of the shortest distance d and the radius of the steering lever. Both scenarios are colour-coded in the figure, with blue representing the minimum dimensioning and green indicating the maximum dimensioning.","category":"page"},{"location":"optimisation_problem/","page":"Optimisation problem of the steering geometry ","title":"Optimisation problem of the steering geometry ","text":"beginalign*\nd  leq l + z \nd - (l + z)  leq 0  tag324\nendalign*","category":"page"},{"location":"optimisation_problem/","page":"Optimisation problem of the steering geometry ","title":"Optimisation problem of the steering geometry ","text":"beginalign*\nz  leq d + l \nz - (d + l)  leq 0 tag325\nendalign*","category":"page"},{"location":"optimisation_problem/","page":"Optimisation problem of the steering geometry ","title":"Optimisation problem of the steering geometry ","text":"The dimensioning of the steering lever, whose scenarios are illustrated in Figure 3.13, should be considered in a similar manner. To guarantee that the specified circles can also interact, the aforementioned condition can be immediately implemented. The limitation of the maximum dimensioning is based on a comparable methodology. In the event that the intersection of the spheres is situated within the circle of the pull lever, no interaction is feasible.","category":"page"},{"location":"optimisation_problem/","page":"Optimisation problem of the steering geometry ","title":"Optimisation problem of the steering geometry ","text":"beginalign*\nd  leq l + z \nd - (l + z)  leq 0 tag326 \nendalign*","category":"page"},{"location":"optimisation_problem/","page":"Optimisation problem of the steering geometry ","title":"Optimisation problem of the steering geometry ","text":"beginalign*\nl  leq d + z \nl - (d + z)  leq 0 tag327\nendalign*\n","category":"page"},{"location":"optimisation_problem/","page":"Optimisation problem of the steering geometry ","title":"Optimisation problem of the steering geometry ","text":"In light of the subsequent assignment of value ranges to the individual components, the scenario should be disregarded as part of the optimisation process.","category":"page"},{"location":"optimisation_problem/","page":"Optimisation problem of the steering geometry ","title":"Optimisation problem of the steering geometry ","text":"(Image: Figure 3.11: Graphic display if the selected lengths are too small)","category":"page"},{"location":"optimisation_problem/","page":"Optimisation problem of the steering geometry ","title":"Optimisation problem of the steering geometry ","text":"(Image: Figure 3.12: Graphical representation if the tie rod is too large z)","category":"page"},{"location":"optimisation_problem/","page":"Optimisation problem of the steering geometry ","title":"Optimisation problem of the steering geometry ","text":"(Image: Figure 3.12: Graphic display if the steering lever is too large l)","category":"page"},{"location":"optimisation_problem/#Avoiding-the-singularitys","page":"Optimisation problem of the steering geometry ","title":"Avoiding the singularitys","text":"","category":"section"},{"location":"optimisation_problem/","page":"Optimisation problem of the steering geometry ","title":"Optimisation problem of the steering geometry ","text":"Nevertheless, in the event that a component is significantly longer in comparison to the remaining components, a return effect is observed with regard to the steering lever. To elucidate this phenomenon, a visual illustration is provided in Figure 3.14. Let us assume that the dimensions of the steering lever (l) are significantly longer than the radius of the z-rotation (r_z) of the L-component. A stepwise rotation around the origin of the vector rz with the steering angle Œ∏z results in a displacement of the positions along their circular paths, which are represented by the green and orange lines in Figure 3.14. If the direction of rotation of the vector r_z is clockwise, an identical rotation of the vector l would be expected due to the kinematic dependency. However, if the angle of rotation is exceeded, the steering lever l moves in the opposite direction to that of the original rotation. The direction of movement is divided into two phases, with the start, turning and end points shown more intensively in their respective colours and their direction of movement illustrated by arrows. For the steering angles of the wheels, this had the consequence that beyond a certain steering angle, the wheel would steer in the opposite direction, which would have serious consequences for the vehicle dynamics.","category":"page"},{"location":"optimisation_problem/","page":"Optimisation problem of the steering geometry ","title":"Optimisation problem of the steering geometry ","text":"(Image: Figure 3.13: Visualisation of the return effect with several steering settings)","category":"page"},{"location":"optimisation_problem/","page":"Optimisation problem of the steering geometry ","title":"Optimisation problem of the steering geometry ","text":"To obviate this potential outcome, it is imperative to ascertain that the extant dimensioning configuration falls within the permissible range for all conceivable setting orientations. In order to define the singularity of the validity range, it is necessary to use a mathematical expression that will allow the establishment of a limit and, consequently, a comparison criterion. In the event that a setting exceeds the aforementioned singularity, it is evident that the dimensioning is not suitable. By comparing the start, turn and end settings of the example, it is possible to derive the following differentiation criterion. During the adjustment process, the steering angle of the wheel increases by Œ¥o until the singularity is exceeded. Consequently, the following condition is formulated.","category":"page"},{"location":"optimisation_problem/","page":"Optimisation problem of the steering geometry ","title":"Optimisation problem of the steering geometry ","text":"delta_i  delta_j quad i  j quad i j in mathbbZ tag328","category":"page"},{"location":"optimisation_problem/","page":"Optimisation problem of the steering geometry ","title":"Optimisation problem of the steering geometry ","text":"The preceding analysis pertains solely to the examination of a steering geometry aspect, namely the variation of the angle of rotation, which allows the formulation of restrictions. It is also important to assess the opposite side in order to optimise the process. Consequently, the previously defined conditions are checked for their compatibility within the aforementioned scenario. The verification procedure is straightforward visually, as demonstrated by the illustration of the aforementioned scenario for the opposite side of the steering geometry (see Fig. 3.15). As the setting angle increases, the included angle Œ¥ of the steering lever l also increases, necessitating the fulfilment of condition 3.28 for the right-hand side of the geometry.","category":"page"},{"location":"optimisation_problem/","page":"Optimisation problem of the steering geometry ","title":"Optimisation problem of the steering geometry ","text":"(Image: Figure 3.14: Visualisation of the singulatiry with several steering settings on the opposite side of the geometry)","category":"page"},{"location":"optimisation_problem/","page":"Optimisation problem of the steering geometry ","title":"Optimisation problem of the steering geometry ","text":"All previous scenarios of this condition have been represented exclusively in two-dimensional space. Consequently, any differences in position and their effects on the movement of the angle must be subjected to analysis. In order to achieve this, the principal elements of the scenario depicted in Figure 3.14 are projected onto the y-z plane. As a result of the inclined plane of rotation of the steering lever, there is a height differential between the joints; however, this has no impact on the vectorial determination of the angle Œ¥i and Œ¥o.","category":"page"},{"location":"optimisation_problem/","page":"Optimisation problem of the steering geometry ","title":"Optimisation problem of the steering geometry ","text":"(Image: Figure 3.14: Projection of the main points of the scenario onto the y-z plane)","category":"page"},{"location":"examples/optimizing_the_steering/#Optimizing-the-steering-components","page":"Optimizing the steering","title":"Optimizing the steering components","text":"","category":"section"},{"location":"examples/optimizing_the_steering/#Overview:-When-to-use-which-optimisation-method?","page":"Optimizing the steering","title":"Overview: When to use which optimisation method?","text":"","category":"section"},{"location":"examples/optimizing_the_steering/","page":"Optimizing the steering","title":"Optimizing the steering","text":"The optimization can be performed using  different methods:","category":"page"},{"location":"examples/optimizing_the_steering/","page":"Optimizing the steering","title":"Optimizing the steering","text":"Method Purpose Recommended when‚Ä¶\noptim_over_range Optimises parameters across a full steering angle range You want globally well-behaved steering for all angles\noptim_at_pose Optimises geometry at one fixed pose (Œ∏x, Œ∏y, Œ∏z) You need perfect behaviour at a critical angle (e.g. full lock)\noptim_series_at_pose Runs many parallel optimisations at one pose The problem is non-convex and you want to explore multiple minima\ngrid_optim Executes optimisation over a full angle grid You want a full design landscape or want to generate datasets","category":"page"},{"location":"examples/optimizing_the_steering/","page":"Optimizing the steering","title":"Optimizing the steering","text":"Tip:   Steering optimisation problems are often non-convex.    Running multiple starting points (random_search or threaded series runs) increases the chance of finding a good optimum.","category":"page"},{"location":"examples/optimizing_the_steering/","page":"Optimizing the steering","title":"Optimizing the steering","text":"","category":"page"},{"location":"examples/optimizing_the_steering/#Optimisation-over-a-steering-range-‚Äî-optim_over_range","page":"Optimizing the steering","title":"üéØ Optimisation over a steering range ‚Äî optim_over_range","text":"","category":"section"},{"location":"examples/optimizing_the_steering/","page":"Optimizing the steering","title":"Optimizing the steering","text":"The optimoverrange method computes a weighted quadratic error over all steering angles (Œ∏x, Œ∏z), keeping Œ∏y constant. A key aspect of this method is the exponential weighting, which prioritises configurations close to the straight-ahead position.","category":"page"},{"location":"examples/optimizing_the_steering/","page":"Optimizing the steering","title":"Optimizing the steering","text":"Because the weighting is based on an exponential decay, the influence of a steering configuration decreases rapidly as the steering angles increase. This reflects real vehicle behaviour: small steering angles are far more critical for accuracy, while large angles contribute only marginally to the steering performance.","category":"page"},{"location":"examples/optimizing_the_steering/","page":"Optimizing the steering","title":"Optimizing the steering","text":"The weighting table below shows how the importance of each steering pose decreases over the evaluated range:","category":"page"},{"location":"examples/optimizing_the_steering/","page":"Optimizing the steering","title":"Optimizing the steering","text":"Œ∏x (deg) Œ∏z (deg) Weight (%)\n0 0 100.00\n0 10 88.48\n0 20 61.28\n0 35 22.31\n5 0 84.65\n5 10 74.89\n5 20 51.87\n5 35 18.89\n10 0 51.34\n10 10 45.42\n10 20 31.46\n10 35 11.46\n15 0 22.31\n15 10 19.74\n15 20 13.67\n15 35 4.98","category":"page"},{"location":"examples/optimizing_the_steering/","page":"Optimizing the steering","title":"Optimizing the steering","text":"üîé Note: How is the weight calculated?The weighting values are computed using an exponential decay function, ensuring that small steering angles receive higher importance:  w = expleft(\n  -alphaleft\n    left(fractheta_xtheta_xmaxright)^2 +\n    left(fractheta_ztheta_zmaxright)^2\n  right\nright)The parameter Œ± controls how quickly the weight decreases. This formulation ensures that precision near the neutral steering position is strongly prioritised, while large-angle configurations contribute only marginally.","category":"page"},{"location":"examples/optimizing_the_steering/#Example:-Using-randomly-generated-starting-parameters","page":"Optimizing the steering","title":"Example: Using randomly generated starting parameters","text":"","category":"section"},{"location":"examples/optimizing_the_steering/","page":"Optimizing the steering","title":"Optimizing the steering","text":"    using micromobilitykinematics\n\n    lower_border = (50.0, 50.0, 70.0, 195.0)\n    upper_border = (100.0, 100.0, 200.0, 260.0)\n    Œ∏_max        = (15.0, 0.0, 35.0)\n\n    # find feasible parameters\n    xR, zR, leverL, rodL = random_search(upper_border, lower_border, Œ∏_max)\n\n    # optimise\n    opt = optim_over_range(xR, zR, leverL, rodL, Œ∏_max)\n\n    opt.input\n    opt.objective\n    opt.status","category":"page"},{"location":"examples/optimizing_the_steering/#Example:-Full-automatic-version-(no-random-search-needed)","page":"Optimizing the steering","title":"Example: Full automatic version (no random search needed)","text":"","category":"section"},{"location":"examples/optimizing_the_steering/","page":"Optimizing the steering","title":"Optimizing the steering","text":"\n    opt = optim_over_range(upper_border, lower_border, Œ∏_max)\n","category":"page"},{"location":"examples/optimizing_the_steering/","page":"Optimizing the steering","title":"Optimizing the steering","text":"üîé Note: What does OptDa contain?The OptDa struct bundles all essential optimisation results in a single container:input ‚Äî the starting parameter tuple used for the optimisation  \nsteering ‚Äî the optimised Steering instance  \nobjective ‚Äî the final Ackermann error (weighted)  \nstatus ‚Äî Ipopt termination status  \nŒ∏ ‚Äî the steering pose or angle range used for evaluation  Recommendation:   Use optim_over_range for general steering-geometry design tasks.   It evaluates the geometry over the entire steering range, ensuring robust behaviour at all angles rather than only at a single pose.","category":"page"},{"location":"examples/optimizing_the_steering/","page":"Optimizing the steering","title":"Optimizing the steering","text":"","category":"page"},{"location":"examples/optimizing_the_steering/#Optimisation-at-a-fixed-pose-‚Äî-optim_at_pose","page":"Optimizing the steering","title":"üéØ Optimisation at a fixed pose ‚Äî optim_at_pose","text":"","category":"section"},{"location":"examples/optimizing_the_steering/","page":"Optimizing the steering","title":"Optimizing the steering","text":"On the other hand, optim_at_pose optimizes the steering geometry at a specific angular configuration (Œ∏x, Œ∏y, Œ∏z), as the name suggests. This method can be extended to perform optimization over a angle range using grid_optim.","category":"page"},{"location":"examples/optimizing_the_steering/","page":"Optimizing the steering","title":"Optimizing the steering","text":"Useful when:","category":"page"},{"location":"examples/optimizing_the_steering/","page":"Optimizing the steering","title":"Optimizing the steering","text":"optimal geometry is needed at a specific steering lock,\nmeasurement data needs to be matched,\nor evaluating sensitivity of a single pose.","category":"page"},{"location":"examples/optimizing_the_steering/#Example:","page":"Optimizing the steering","title":"Example:","text":"","category":"section"},{"location":"examples/optimizing_the_steering/","page":"Optimizing the steering","title":"Optimizing the steering","text":"    using micromobilitykinematics\n\n    lower_border = (50.0, 50.0, 70.0, 195.0)\n    upper_border = (100.0, 100.0, 200.0, 260.0)\n    Œ∏_max        = (15.0, 0.0, 35.0)\n\n    target_pose = (1.0, 1.0, 20.0)\n\n    opt = optim_at_pose(target_pose, upper_border, lower_border, Œ∏_max)\n\n    opt.steering\n    opt.objective\n    opt.status\n","category":"page"},{"location":"examples/optimizing_the_steering/","page":"Optimizing the steering","title":"Optimizing the steering","text":"Noteoptim_at_pose internally performs a random_search before building the nonlinear optimisation model.","category":"page"},{"location":"examples/optimizing_the_steering/#Series-optimisation-‚Äî-optim_series_at_pose","page":"Optimizing the steering","title":"üßµ Series optimisation ‚Äî optim_series_at_pose","text":"","category":"section"},{"location":"examples/optimizing_the_steering/","page":"Optimizing the steering","title":"Optimizing the steering","text":"Because the optimisation landscape is non-linear with multiple minima, optimseriesat_pose executes many independent optimisations in parallel.","category":"page"},{"location":"examples/optimizing_the_steering/","page":"Optimizing the steering","title":"Optimizing the steering","text":"This increases reliability and explores alternative solutions.","category":"page"},{"location":"examples/optimizing_the_steering/#Example:-2","page":"Optimizing the steering","title":"Example:","text":"","category":"section"},{"location":"examples/optimizing_the_steering/","page":"Optimizing the steering","title":"Optimizing the steering","text":"    using micromobilitykinematics\n\n    sol = optim_series_at_pose(4,\n                            (5.0, 0.0, 20.0),\n                            (100.0,100.0,200.0,260.0),\n                            (50.0,50.0,70.0,195.0),\n                            (15.0,0.0,35.0))\n\n    for (id, entry) in sol\n        @show id, entry.objective, entry.status\n    end\n","category":"page"},{"location":"examples/optimizing_the_steering/","page":"Optimizing the steering","title":"Optimizing the steering","text":"NoteEach thread tries repeatedly until a valid solver status is returned. This makes the system robust against Ipopt instability and non-feasible initial guesses.","category":"page"},{"location":"examples/optimizing_the_steering/#Grid-based-optimisation-‚Äî-grid_optim","page":"Optimizing the steering","title":"üåê Grid-based optimisation ‚Äî grid_optim","text":"","category":"section"},{"location":"examples/optimizing_the_steering/","page":"Optimizing the steering","title":"Optimizing the steering","text":"grid_optim performs a 2D sweep over steering angles (Œ∏x, Œ∏z) and executes a threaded optimisation at each grid point.","category":"page"},{"location":"examples/optimizing_the_steering/","page":"Optimizing the steering","title":"Optimizing the steering","text":"This produces large datasets for:","category":"page"},{"location":"examples/optimizing_the_steering/","page":"Optimizing the steering","title":"Optimizing the steering","text":"geometry analysis\nsensitivity maps\nparametric studies\nmachine-learning training\nextensive design exploration","category":"page"},{"location":"examples/optimizing_the_steering/#Example:-3","page":"Optimizing the steering","title":"Example:","text":"","category":"section"},{"location":"examples/optimizing_the_steering/","page":"Optimizing the steering","title":"Optimizing the steering","text":"\n    lower_border = (50.0, 50.0, 70.0, 195.0)\n    upper_border = (100.0, 100.0, 200.0, 260.0)\n    Œ∏_max        = (15.0, 0.0, 35.0)\n\n    grid_optim(lower_border, upper_border, Œ∏_max)\n","category":"page"},{"location":"","page":"Introduction","title":"Introduction","text":"(Image: )","category":"page"},{"location":"#What-is-micromobilitykinematics.jl?","page":"Introduction","title":"‚ú® What is micromobilitykinematics.jl?","text":"","category":"section"},{"location":"","page":"Introduction","title":"Introduction","text":"micromobilitykinematics.jl provides a comprehensive toolkit for analysing, simulating, and  optimising the steering and suspension kinematics of micromobility vehicles.   It is designed to support concept development, geometric evaluation, research, and CAD-integrated workflows.","category":"page"},{"location":"#Core-Capabilities","page":"Introduction","title":"üîß Core Capabilities","text":"","category":"section"},{"location":"","page":"Introduction","title":"Introduction","text":"Feature Description\nüìê Steering Kinematics Computes inner/outer steering angles, joint positions, rotational axes and UCS information for arbitrary steering geometries.\nü¶æ Suspension Kinematics Models a double-wishbone suspension with dampers and a wheel mount; evaluates both neutral and dynamic states.\nüéØ Optimisation Uses JuMP + Ipopt to optimise steering geometries over configurable steering ranges and parameter bounds.\nüì§ XML Export Exports all steering and suspension attributes to XML for seamless reconstruction in CAD systems.\nüñ•Ô∏è Interactive GUI GLMakie-based GUI enabling real-time parameter manipulation, visual feedback and immediate geometric analysis.\n‚ö†Ô∏è Error Handling Structured diagnostic system providing error messages, traces and root-cause information.","category":"page"},{"location":"#What-is-the-package-designed-for?","page":"Introduction","title":"üéõÔ∏è What is the package designed for?","text":"","category":"section"},{"location":"","page":"Introduction","title":"Introduction","text":"The package computes both neutral and moving kinematic states and exposes all relevant information   directly via the instances ‚Äî including wheel angles, component coordinates, joint geometry, and  local coordinate systems. This enables transparent inspection of the geometry and supports automated  engineering pipelines such as CAD updates or optimisation loops.","category":"page"},{"location":"","page":"Introduction","title":"Introduction","text":"Its optimisation routines allow the steering geometry to be tuned by altering key parameters,  evaluating steering accuracy or other metrics over a defined angle range.   Visualisation tools complement this workflow by plotting characteristic steering behaviour.","category":"page"},{"location":"","page":"Introduction","title":"Introduction","text":"The optional GUI provides an intuitive interface for exploring geometry configurations, offering  live updates, plotting capabilities and clearly summarised state information.","category":"page"},{"location":"","page":"Introduction","title":"Introduction","text":"Note:   Together, these components form a coherent and extendable framework for micromobility vehicle  geometry design ‚Äî from numerical analysis to interactive visual exploration.","category":"page"},{"location":"#How-can-I-use-micromobilitykinematics.jl?","page":"Introduction","title":"üöÄ How can I use micromobilitykinematics.jl?","text":"","category":"section"},{"location":"","page":"Introduction","title":"Introduction","text":"This section provides a guided introduction to installing the package, running basic kinematics, and extending the workflow with optimisation and GUI interactions.   The examples are intentionally minimal and can serve as templates for your own geometric setups.","category":"page"},{"location":"","page":"Introduction","title":"Introduction","text":"","category":"page"},{"location":"#How-to-get-started?","page":"Introduction","title":"üì¶ How to get started?","text":"","category":"section"},{"location":"","page":"Introduction","title":"Introduction","text":"To install the package directly from the repository, run:","category":"page"},{"location":"","page":"Introduction","title":"Introduction","text":"    pkg> add https://github.com/una-auxme/micromobilitykinematics.jl.git","category":"page"},{"location":"","page":"Introduction","title":"Introduction","text":"Then load the package:","category":"page"},{"location":"","page":"Introduction","title":"Introduction","text":"    using GLMakie\n    using micromobilitykinematics","category":"page"},{"location":"","page":"Introduction","title":"Introduction","text":"Info   GLMakie is not required for the core kinematics functionality.   It is only needed for the optional GUI extension.","category":"page"},{"location":"","page":"Introduction","title":"Introduction","text":"","category":"page"},{"location":"#How-does-basic-kinematics-function-work?","page":"Introduction","title":"üî¨ How does basic kinematics function work?","text":"","category":"section"},{"location":"","page":"Introduction","title":"Introduction","text":"This example shows the minimal workflow to initialise a steering geometry, evaluate both suspension and steering kinematics, and export the resulting geometry for CAD use.","category":"page"},{"location":"","page":"Introduction","title":"Introduction","text":"    using micromobilitykinematics\n\n    # initialisation of the steering \n    xR = 56.0 # Steeringarm_rotX \n    zR = 165.0 # Steeringarm_rotZ \n    leverL = 185.0 # Steeringlever \n    rodL = 210.0 # Steeringrod \n\n    steering = Steering(xR, zR, leverL, rodL)\n    suspension = Suspension((30.0,30.0))\n\n    angleConfig = (0.0, 0.0, 10.0)\n\n    suspensionkinematics!(suspension)\n    steeringkinematics!(angleConfig, steering, suspension)\n\n    update!((0.0, 0.0, 25.0), steering, suspension)\n\n\n    exportXML(steering)\n    exportXML(suspension)","category":"page"},{"location":"","page":"Introduction","title":"Introduction","text":"Note:   suspensionkinematics! should be called before steeringkinematics!,   because the steering kinematics depend on the current suspension state   (wishbone positions, damper compression, wheel-ucs alignment).","category":"page"},{"location":"","page":"Introduction","title":"Introduction","text":"Info:   After running both kinematics, the instance contains neutral and current state information.   The XML export always includes both states, making it suitable for CAD reconstruction.","category":"page"},{"location":"","page":"Introduction","title":"Introduction","text":"","category":"page"},{"location":"#How-to-optimise-a-steering-geometry","page":"Introduction","title":"üéØ How to optimise a steering geometry","text":"","category":"section"},{"location":"","page":"Introduction","title":"Introduction","text":"The optimisation system in micromobilitykinematics.jl allows automatic tuning of the steering parameters using JuMP + Ipopt.","category":"page"},{"location":"","page":"Introduction","title":"Introduction","text":"This workflow identifies feasible parameters and then refines them to minimise steering error across a defined angle range.","category":"page"},{"location":"","page":"Introduction","title":"Introduction","text":"    using micromobilitykinematics\n    \n    lower = (50.0, 50.0, 70.0, 195.0)\n    upper = (100.0, 100.0, 200.0, 260.0)\n    maxŒ∏  = (15.0, 1.0, 35.0)\n\n    p = random_search(upper, lower, maxŒ∏)\n    opt = optim_over_range(p..., maxŒ∏)\n\n    opt.input\n    opt.objective\n    opt.status\n","category":"page"},{"location":"","page":"Introduction","title":"Introduction","text":"Note:   The optimisation evaluates the steering geometry at every angle inside maxŒ∏.     This means the returned configuration is not optimised for just one steering angle, but for the entire steering motion.   This makes the result more robust and suitable for real vehicle applications.","category":"page"},{"location":"","page":"Introduction","title":"Introduction","text":"Info:   Besides the high-level optim_over_range interface, micromobilitykinematics.jl also exposes   lower-level optimisation helpers such as create_model_for_pose, optim_at_pose,   optim_series_at_pose, grid_optim, and create_model_for_range.   Use them when you need pose-specific optimisation, parallel runs, or grid-based studies over many steering angles.","category":"page"},{"location":"","page":"Introduction","title":"Introduction","text":"","category":"page"},{"location":"#How-does-an-advanced-workflow-look-like?","page":"Introduction","title":"üî¨ How does an advanced workflow look like?","text":"","category":"section"},{"location":"","page":"Introduction","title":"Introduction","text":"Use this workflow when exploring new steering concepts or evaluating the influence of geometry changes on kinematic accuracy.","category":"page"},{"location":"","page":"Introduction","title":"Introduction","text":"    using micromobilitykinematics\n    using GLMakie\n\n    lower = (50.0, 50.0, 70.0, 195.0)\n    upper = (100.0, 100.0, 200.0, 260.0)\n    maxŒ∏  = (15.0, 1.0, 35.0)\n\n    p = random_search(upper, lower, maxŒ∏)\n    xR, zR, leverL, rodL = p\n\n    opt = optim_over_range(xR, zR, leverL, rodL, maxŒ∏)\n\n    steering    = opt.steering\n    suspension  = Suspension((30,30))\n    chassis     = Chassis()\n\n    update!((0.0, 1.0, 0.0), steering, suspension)\n\n    lounch_gui((15.0, 5.0, 35.0), chassis, steering, suspension)\n","category":"page"},{"location":"","page":"Introduction","title":"Introduction","text":"Note:   The random_search step only identifies feasible parameter sets inside the given bounds.   The actual optimisation happens in optim_over_range, which refines these parameters to minimise the steering error across the full angle   range defined by maxŒ∏.","category":"page"},{"location":"","page":"Introduction","title":"Introduction","text":"Info:   Before launching the GUI, make sure to call update! with a valid steering   configuration. The GUI displays the current kinematic state and relies on   the internally updated suspension and steering geometry.","category":"page"},{"location":"","page":"Introduction","title":"Introduction","text":"","category":"page"},{"location":"#Type-Hierarchy-Diagram","page":"Introduction","title":"üìä Type Hierarchy Diagram","text":"","category":"section"},{"location":"","page":"Introduction","title":"Introduction","text":"Below is a compact overview of the internal type structure used in micromobilitykinematics.jl.   It shows how steering, suspension and vehicle components are organised and how the optimisation and error system fit into the model.","category":"page"},{"location":"","page":"Introduction","title":"Introduction","text":"micromobilitykinematics.jl\n‚îú‚îÄ‚îÄ ‚öôÔ∏è Steering System\n‚îÇ   ‚îú‚îÄ‚îÄ Steering\n‚îÇ   ‚îÇ   Main container for all steering-related states, geometry & kinematics.\n‚îÇ   ‚îú‚îÄ‚îÄ RotationalComponent\n‚îÇ   ‚îÇ   Defines steering arm radii and pivot spacing.\n‚îÇ   ‚îú‚îÄ‚îÄ TrackLever\n‚îÇ   ‚îÇ   Length-parametrised steering lever.\n‚îÇ   ‚îú‚îÄ‚îÄ TieRod\n‚îÇ   ‚îÇ   Connects steering links; determines toe behaviour.\n‚îÇ   ‚îî‚îÄ‚îÄ InitSteeringParam\n‚îÇ       Stores original input values for reconstruction & optimisation.\n‚îÇ\n‚îú‚îÄ‚îÄ ü¶æ Suspension System\n‚îÇ   ‚îú‚îÄ‚îÄ Suspension\n‚îÇ   ‚îÇ   Wrapper holding left/right wishbones, damper and wheel mount.\n‚îÇ   ‚îú‚îÄ‚îÄ LowerWishbone\n‚îÇ   ‚îÇ   Lower trapezoid control arm with damper fixture + joint geometry.\n‚îÇ   ‚îú‚îÄ‚îÄ UpperWishbone\n‚îÇ   ‚îÇ   Upper control arm including tilt orientation and linkage geometry.\n‚îÇ   ‚îú‚îÄ‚îÄ Damper\n‚îÇ   ‚îÇ   Spring-damper unit with compression, travel and fixture points.\n‚îÇ   ‚îî‚îÄ‚îÄ WheelMount\n‚îÇ       Wheel carrier with offsets, camber angle and mounting geometry.\n‚îÇ\n‚îú‚îÄ‚îÄ üöó Vehicle Assembly\n‚îÇ   ‚îú‚îÄ‚îÄ Chassis\n‚îÇ   ‚îÇ   Base geometry of the vehicle chassis (e.g., width).\n‚îÇ   ‚îú‚îÄ‚îÄ Measurements\n‚îÇ   ‚îÇ   Derived vehicle metrics: track width, wheelbase, turning radius.\n‚îÇ   ‚îî‚îÄ‚îÄ Vehicle\n‚îÇ       Full vehicle representation combining chassis, steering & suspension.\n‚îÇ\n‚îú‚îÄ‚îÄ üéØ Optimisation\n‚îÇ   ‚îî‚îÄ‚îÄ OptDa\n‚îÇ       Container for storing optimisation results (input, steering, objective, status).\n‚îÇ\n‚îî‚îÄ‚îÄ ‚ö†Ô∏è Diagnostics\n    ‚îî‚îÄ‚îÄ ErrorInfo\n        Structured error messages, backtraces and root-cause information.","category":"page"},{"location":"#Related-publications?","page":"Introduction","title":"Related publications?","text":"","category":"section"},{"location":"","page":"Introduction","title":"Introduction","text":" \nautor: Peter Kr√∂nes , Adrian Brune and Lars Mikelsons\ntitle: Design and Optimization of a Steering Geometry for a Micromobility\njournal: Zehnte IFToMM D-A-CH Konferenz 2024 : 05./06. M√§rz 2024, Universit√§t Rostock\ndate of publication: 04.03.2024\nurl: DOI: 10.17185/duepublico/43383\nzite: BibTex","category":"page"},{"location":"examples/changing_steering_position/#First-Steps","page":"Changing steering position","title":"First Steps","text":"","category":"section"},{"location":"examples/changing_steering_position/#1.-Initialisation","page":"Changing steering position","title":"1. Initialisation","text":"","category":"section"},{"location":"examples/changing_steering_position/","page":"Changing steering position","title":"Changing steering position","text":"The initial stage of the process is to initialise all of the requisite sub-subsystems of the vehicle that directly influence the behaviour of the steering mechanism. ","category":"page"},{"location":"examples/changing_steering_position/","page":"Changing steering position","title":"Changing steering position","text":"Note: The classes in this library are grouped according to the components used in a system, such as steering or suspension. The system class then contains important positions of the individual components, which in turn contain their dimensions.","category":"page"},{"location":"examples/changing_steering_position/#Steering","page":"Changing steering position","title":"Steering","text":"","category":"section"},{"location":"examples/changing_steering_position/","page":"Changing steering position","title":"Changing steering position","text":"The initial step is to commence the configuration of the steering geometry, which entails defining the dimensions of the constituent components. The dimensions exert a direct impact on the kinematic characteristics of the steering mechanism. To gain a more comprehensive grasp of the steering geometry, it is recommended to consult the accompanying documentation, which provides a comprehensive and detailed account of the subject matter.","category":"page"},{"location":"examples/changing_steering_position/","page":"Changing steering position","title":"Changing steering position","text":"It is recommended that a random search or direct selection of functioning parameters be employed, given that not all parameter values will necessarily result in the desired functioning kinematics.","category":"page"},{"location":"examples/changing_steering_position/","page":"Changing steering position","title":"Changing steering position","text":"The steering class itself includes all the important joint positions and component dimensions. This allows different steering positions to be identified and compared.","category":"page"},{"location":"examples/changing_steering_position/","page":"Changing steering position","title":"Changing steering position","text":"# random search, with the following argument\nlower_bourder = (50.0, 50.0, 70.0, 195.0)  \nupper_bourder = (100.0, 100.0, 200.0, 260.0)\nmax_angleConfig = (15.0, 0.0, 35.0)\n\nx_rotational_radius, z_rotational_radius, track_lever_length, tie_rod_length = random_search(upper_bourder, lower_bourder, max_angleConfig)\n\nsteering = Steering(x_rotational_radius, z_rotational_radius, track_lever_length, tie_rod_length)","category":"page"},{"location":"examples/changing_steering_position/#Suspension","page":"Changing steering position","title":"Suspension","text":"","category":"section"},{"location":"examples/changing_steering_position/","page":"Changing steering position","title":"Changing steering position","text":"The compression of the damper also exerts an influence on the steering geometry, as it alters the direct positioning of the essential joints. ","category":"page"},{"location":"examples/changing_steering_position/","page":"Changing steering position","title":"Changing steering position","text":"# Initialisation of the suspension, with the following argument\ncompression = (30,30) # neutral damper positioning\n\nsuspension = Suspension(compression)","category":"page"},{"location":"examples/changing_steering_position/#Chassis","page":"Changing steering position","title":"Chassis","text":"","category":"section"},{"location":"examples/changing_steering_position/","page":"Changing steering position","title":"Changing steering position","text":"The chassis class includes the fundamental dimensions of the vehicle's chassis. These parameters are instrumental in calculating kinematic variables.","category":"page"},{"location":"examples/changing_steering_position/","page":"Changing steering position","title":"Changing steering position","text":"# Initialisation of the Chassi\nchassi = Chassi()","category":"page"},{"location":"examples/changing_steering_position/#2.-Calculation-of-the-kinematics","page":"Changing steering position","title":"2. Calculation of the kinematics","text":"","category":"section"},{"location":"examples/changing_steering_position/","page":"Changing steering position","title":"Changing steering position","text":"Once the individual components have been initialised, the steering geometry can be calculated depending on a steering setting angelConfig. However, prior to this, the kinematics of the suspension must be calculated, as this has a direct influence on the subsequent calculation by changing the positions of the wishbones.","category":"page"},{"location":"examples/changing_steering_position/","page":"Changing steering position","title":"Changing steering position","text":"# steering setting\nangleConfig = (0.0 , 0.0, 10)\n\nsuspensionkinematics!(suspension)\nsteeringkinematics!(angleConfig, steering, suspension)\n","category":"page"},{"location":"examples/changing_steering_position/#3.-Updating-the-steering-geometry-positioning","page":"Changing steering position","title":"3. Updating the steering geometry positioning","text":"","category":"section"},{"location":"examples/changing_steering_position/","page":"Changing steering position","title":"Changing steering position","text":"Updating of steering geometry positioning by change in steering angle","category":"page"},{"location":"examples/changing_steering_position/","page":"Changing steering position","title":"Changing steering position","text":"# new steering setting \nnew_angleConfig = (0.0, 0.0, 25.0)\n\nupdate!(new_angleConfig, steering, suspension)","category":"page"},{"location":"examples/changing_steering_position/#4.-Export","page":"Changing steering position","title":"4. Export","text":"","category":"section"},{"location":"examples/changing_steering_position/","page":"Changing steering position","title":"Changing steering position","text":"Furthermore, XML parameter lists can be exported for each component, which contain the most salient kinematic movement points as well as other properties of the steering geometry components. It is also relevant to consider properties such as the resulting wheel angle in this context.","category":"page"},{"location":"examples/changing_steering_position/","page":"Changing steering position","title":"Changing steering position","text":"One potential application is the updating of a computer-aided design (CAD) model of the steering geometry at various positions.","category":"page"},{"location":"examples/changing_steering_position/","page":"Changing steering position","title":"Changing steering position","text":"# exports xml list to path = @__DIR__ (default)\nexportXML(steering)\nexportXML(suspension)\n","category":"page"}]
}
